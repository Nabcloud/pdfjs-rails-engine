if(typeof PDFJS==="undefined"){(typeof window!=="undefined"?window:this).PDFJS={}}PDFJS.version="0.8.599";PDFJS.build="99e4504";(function(){"use strict";"use strict";function l(e){if(o>=s){f("Info: "+e);PDFJS.LogManager.notify("info",e)}}function c(e){if(o>=i){f("Warning: "+e);PDFJS.LogManager.notify("warn",e)}}function h(e){if(arguments.length>1){var t=["Error:"];t.push.apply(t,arguments);f.apply(null,t);e=[].join.call(arguments," ")}else{f("Error: "+e)}f(d());PDFJS.LogManager.notify("error",e);throw new Error(e)}function p(e){c("TODO: "+e)}function d(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function v(e,t){if(!e)h(t)}function m(e,t){if(!t)return e;if(t.indexOf(":")>=0)return t;if(t.charAt(0)=="/"){var n=e.indexOf("://");n=e.indexOf("/",n+3);return e.substring(0,n)+t}else{var r=e.length,n;n=e.lastIndexOf("#");r=n>=0?n:r;n=e.lastIndexOf("?",r);r=n>=0?n:r;var i=e.lastIndexOf("/",r);return e.substring(0,i+1)+t}}function g(e,t){if(!e){return false}var n=e.indexOf(":");if(n<0){return t}var r=e.substr(0,n);switch(r){case"http":case"https":case"ftp":case"mailto":return true;default:return false}}function y(e,t){if(!e)h(t)}function w(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:false});return n}function A(e){var t="";var n=e.length;for(var r=0;r<n;++r)t+=String.fromCharCode(e[r]);return t}function O(e){var t=e.length;var n=new Uint8Array(t);for(var r=0;r<t;++r)n[r]=e.charCodeAt(r)&255;return n}function H(e){var t,n=e.length,r="";if(e[0]==="þ"&&e[1]==="ÿ"){for(t=2;t<n;t+=2)r+=String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1))}else{for(t=0;t<n;++t){var i=P[e.charCodeAt(t)];r+=i?String.fromCharCode(i):e.charAt(t)}}return r}function B(e){return decodeURIComponent(escape(e))}function j(e){for(var t in e){return false}return true}function F(e){return typeof e=="boolean"}function I(e){return typeof e=="number"&&(e|0)==e}function q(e){return typeof e=="number"}function R(e){return typeof e=="string"}function U(e){return e===null}function z(e){return e instanceof Name}function W(e,t){return e instanceof Cmd&&(!t||e.cmd==t)}function X(e,t){if(!(e instanceof Dict)){return false}if(!t){return true}var n=e.get("Type");return z(n)&&n.name==t}function V(e){return e instanceof Array}function $(e){return typeof e=="object"&&e!==null&&e!==undefined&&"getBytes"in e}function J(e){return typeof e=="object"&&e!==null&&e!==undefined&&"byteLength"in e}function K(e){return e instanceof Ref}function Q(e){var t;if(typeof e!="object")return false;else if(X(e))t=e;else if($(e))t=e.dict;else return false;return t.has("FunctionType")}function Z(e,n){this.name=e;this.comObj=n;this.callbackIndex=1;var r=this.callbacks={};var i=this.actionHandler={};i["console_log"]=[function(t){f.apply(null,t)}];if("console"in t){i["console_error"]=[function(n){t["console"].error.apply(null,n)}]}else{i["console_error"]=[function(t){f.apply(null,t)}]}i["_warn"]=[function(t){c(t)}];n.onmessage=function(t){var s=t.data;if(s.isReply){var o=s.callbackId;if(s.callbackId in r){var u=r[o];delete r[o];u(s.data)}else{h("Cannot resolve callback "+o)}}else if(s.action in i){var a=i[s.action];if(s.callbackId){var f=new G;f.then(function(e){n.postMessage({isReply:true,callbackId:s.callbackId,data:e})});a[0].call(a[1],s.data,f)}else{a[0].call(a[1],s.data)}}else{h("Unkown action from worker: "+s.action)}}}function et(e,t,n){var r=new Image;r.onload=function(){n.resolve(e,r)};r.src="data:image/jpeg;base64,"+window.btoa(t)}function Ht(e,t){var n=document.createElement("canvas");n.width=e;n.height=t;return n}function Bt(e){if(!e.mozCurrentTransform){e._scaleX=e._scaleX||1;e._scaleY=e._scaleY||1;e._originalSave=e.save;e._originalRestore=e.restore;e._originalRotate=e.rotate;e._originalScale=e.scale;e._originalTranslate=e.translate;e._originalTransform=e.transform;e._originalSetTransform=e.setTransform;e._transformMatrix=[e._scaleX,0,0,e._scaleY,0,0];e._transformStack=[];Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}});Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix;var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],u=t[5];var a=n*s-r*i;var f=r*i-n*s;return[s/a,r/f,i/f,n/a,(s*o-i*u)/f,(r*o-n*u)/a]}});e.save=function(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};e.restore=function(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};e.translate=function(t,n){var r=this._transformMatrix;r[4]=r[0]*t+r[2]*n+r[4];r[5]=r[1]*t+r[3]*n+r[5];this._originalTranslate(t,n)};e.scale=function(t,n){var r=this._transformMatrix;r[0]=r[0]*t;r[1]=r[1]*t;r[2]=r[2]*n;r[3]=r[3]*n;this._originalScale(t,n)};e.transform=function(n,r,i,s,o,u){var a=this._transformMatrix;this._transformMatrix=[a[0]*n+a[2]*r,a[1]*n+a[3]*r,a[0]*i+a[2]*s,a[1]*i+a[3]*s,a[0]*o+a[2]*u+a[4],a[1]*o+a[3]*u+a[5]];e._originalTransform(n,r,i,s,o,u)};e.setTransform=function(n,r,i,s,o,u){this._transformMatrix=[n,r,i,s,o,u];e._originalSetTransform(n,r,i,s,o,u)};e.rotate=function(t){var n=Math.cos(t);var r=Math.sin(t);var i=this._transformMatrix;this._transformMatrix=[i[0]*n+i[2]*r,i[1]*n+i[3]*r,i[0]*-r+i[2]*n,i[1]*-r+i[3]*n,i[4],i[5]];this._originalRotate(t)}}}function Ft(e){var t=1e3;var n=e.width,r=e.height;var i,s,o,u=n+1;var a=new Uint8Array(u*(r+1));var f=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var l=3,c=e.data,h=n*4,p=0;if(c[3]!==0){a[0]=1;++p}for(s=1;s<n;s++){if(c[l]!==c[l+4]){a[s]=c[l]?2:1;++p}l+=4}if(c[l]!==0){a[s]=2;++p}l+=4;for(i=1;i<r;i++){o=i*u;if(c[l-h]!==c[l]){a[o]=c[l]?1:8;++p}var d=(c[l]?4:0)+(c[l-h]?8:0);for(s=1;s<n;s++){d=(d>>2)+(c[l+4]?4:0)+(c[l-h+4]?8:0);if(f[d]){a[o+s]=f[d];++p}l+=4}if(c[l-h]!==c[l]){a[o+s]=c[l]?2:4;++p}l+=4;if(p>t){return null}}l-=h;o=i*u;if(c[l]!==0){a[o]=8;++p}for(s=1;s<n;s++){if(c[l]!==c[l+4]){a[o+s]=c[l]?4:8;++p}l+=4}if(c[l]!==0){a[o+s]=4;++p}if(p>t){return null}var v=new Int32Array([0,u,-1,0,-u,0,0,0,1]);var m=[];for(i=0;p&&i<=r;i++){var g=i*u;var y=g+n;while(g<y&&!a[g]){g++}if(g===y){continue}var b=[g%u,i];var w=a[g],E=g,S;do{var x=v[w];do{g+=x}while(!a[g]);S=a[g];if(S!==5&&S!==10){w=S;a[g]=0}else{w=S&51*w>>4;a[g]&=w>>2|w<<2}b.push(g%u);b.push(g/u|0);--p}while(E!==g);m.push(b);--i}var T=function(e){e.save();e.scale(1/n,-1/r);e.translate(0,-r);e.beginPath();for(var t=0,i=m.length;t<i;t++){var s=m[t];e.moveTo(s[0],s[1]);for(var o=2,u=s.length;o<u;o+=2){e.lineTo(s[o],s[o+1])}}e.fill();e.beginPath();e.restore()};return T}var t=typeof window==="undefined"?this:window;var n=typeof window=="undefined";var r=0,i=1,s=5;var o=i;var u=[.001,0,0,.001,0,0];var a={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};if(!t.PDFJS){t.PDFJS={}}t.PDFJS.pdfBug=false;var f=function(){if("console"in t&&"log"in t["console"]){return t["console"]["log"].bind(t["console"])}else{return function(){}}}();PDFJS.isValidUrl=g;var b=PDFJS.LogManager=function(){var t=[];return{addLogger:function(n){t.push(n)},notify:function(e,n){for(var r=0,i=t.length;r<i;r++){var s=t[r];if(s[e])s[e](n)}}}}();var E=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var S=function(){function t(e,t){this.name="PasswordException";this.message=e;this.code=t}t.prototype=new Error;t.constructor=t;return t}();var x=function(){function t(e,t){this.name="UnknownErrorException";this.message=e;this.details=t}t.prototype=new Error;t.constructor=t;return t}();var T=function(){function t(e){this.name="InvalidPDFException";this.message=e}t.prototype=new Error;t.constructor=t;return t}();var N=function(){function t(e){this.name="MissingPDFException";this.message=e}t.prototype=new Error;t.constructor=t;return t}();var C=function(){function t(e){this.message=e}t.prototype=new Error;t.prototype.name="NotImplementedException";t.constructor=t;return t}();var k=function(){function t(e,t){this.begin=e;this.end=t;this.message="Missing data [begin, end)"}t.prototype=new Error;t.prototype.name="MissingDataException";t.constructor=t;return t}();var L=function(){function t(e){this.message=e}t.prototype=new Error;t.prototype.name="XRefParseException";t.constructor=t;return t}();var M=[1,0,0,1,0,0];var _=PDFJS.Util=function(){function t(){}t.makeCssRgb=function(t){return"rgb("+t[0]+","+t[1]+","+t[2]+")"};t.makeCssCmyk=function(n){var r=tt.singletons.cmyk.getRgb(n,0);return t.makeCssRgb(r)};t.transform=function(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]};t.applyTransform=function(t,n){var r=t[0]*n[0]+t[1]*n[2]+n[4];var i=t[0]*n[1]+t[1]*n[3]+n[5];return[r,i]};t.applyInverseTransform=function(t,n){var r=n[0]*n[3]-n[1]*n[2];var i=(t[0]*n[3]-t[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r;var s=(-t[0]*n[1]+t[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,s]};t.getAxialAlignedBoundingBox=function(n,r){var i=t.applyTransform(n,r);var s=t.applyTransform(n.slice(2,4),r);var o=t.applyTransform([n[0],n[3]],r);var u=t.applyTransform([n[2],n[1]],r);return[Math.min(i[0],s[0],o[0],u[0]),Math.min(i[1],s[1],o[1],u[1]),Math.max(i[0],s[0],o[0],u[0]),Math.max(i[1],s[1],o[1],u[1])]};t.inverseTransform=function(t){var n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]};t.apply3dTransform=function(t,n){return[t[0]*n[0]+t[1]*n[1]+t[2]*n[2],t[3]*n[0]+t[4]*n[1]+t[5]*n[2],t[6]*n[0]+t[7]*n[1]+t[8]*n[2]]};t.singularValueDecompose2dScale=function(t){var n=[t[0],t[2],t[1],t[3]];var r=t[0]*n[0]+t[1]*n[2];var i=t[0]*n[1]+t[1]*n[3];var s=t[2]*n[0]+t[3]*n[2];var o=t[2]*n[1]+t[3]*n[3];var u=(r+o)/2;var a=Math.sqrt((r+o)*(r+o)-4*(r*o-s*i))/2;var f=u+a||1;var l=u-a||1;return[Math.sqrt(f),Math.sqrt(l)]};t.normalizeRect=function(t){var n=t.slice(0);if(t[0]>t[2]){n[0]=t[2];n[2]=t[0]}if(t[1]>t[3]){n[1]=t[3];n[3]=t[1]}return n};t.intersect=function(n,r){function i(e,t){return e-t}var s=[n[0],n[2],r[0],r[2]].sort(i),o=[n[1],n[3],r[1],r[3]].sort(i),u=[];n=t.normalizeRect(n);r=t.normalizeRect(r);if(s[0]===n[0]&&s[1]===r[0]||s[0]===r[0]&&s[1]===n[0]){u[0]=s[1];u[2]=s[2]}else{return false}if(o[0]===n[1]&&o[1]===r[1]||o[0]===r[1]&&o[1]===n[1]){u[1]=o[1];u[3]=o[2]}else{return false}return u};t.sign=function(t){return t<0?-1:1};t.concatenateToArray=function(t,n){Array.prototype.push.apply(t,n)};t.prependToArray=function(t,n){Array.prototype.unshift.apply(t,n)};t.extendObj=function(t,n){for(var r in n){t[r]=n[r]}};t.getInheritableProperty=function(t,n){while(t&&!t.has(n)){t=t.get("Parent")}if(!t){return null}return t.get(n)};t.inherit=function(t,n,r){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;for(var i in r){t.prototype[i]=r[i]}};t.loadScript=function(t,n){var r=document.createElement("script");var i=false;r.setAttribute("src",t);if(n){r.onload=function(){if(!i){n()}i=true}}document.getElementsByTagName("head")[0].appendChild(r)};return t}();var D=PDFJS.PageViewport=function(){function t(e,t,n,r,i,s){this.viewBox=e;this.scale=t;this.rotation=n;this.offsetX=r;this.offsetY=i;var o=(e[2]+e[0])/2;var u=(e[3]+e[1])/2;var a,f,l,c;n=n%360;n=n<0?n+360:n;switch(n){case 180:a=-1;f=0;l=0;c=1;break;case 90:a=0;f=1;l=1;c=0;break;case 270:a=0;f=-1;l=-1;c=0;break;default:a=1;f=0;l=0;c=-1;break}if(s){l=-l;c=-c}var h,p;var d,v;if(a===0){h=Math.abs(u-e[1])*t+r;p=Math.abs(o-e[0])*t+i;d=Math.abs(e[3]-e[1])*t;v=Math.abs(e[2]-e[0])*t}else{h=Math.abs(o-e[0])*t+r;p=Math.abs(u-e[1])*t+i;d=Math.abs(e[2]-e[0])*t;v=Math.abs(e[3]-e[1])*t}this.transform=[a*t,f*t,l*t,c*t,h-a*t*o-l*t*u,p-f*t*o-c*t*u];this.width=d;this.height=v;this.fontScale=t}t.prototype={clone:function(n){n=n||{};var r="scale"in n?n.scale:this.scale;var i="rotation"in n?n.rotation:this.rotation;return new t(this.viewBox.slice(),r,i,this.offsetX,this.offsetY,n.dontFlip)},convertToViewportPoint:function(t,n){return _.applyTransform([t,n],this.transform)},convertToViewportRectangle:function(t){var n=_.applyTransform([t[0],t[1]],this.transform);var r=_.applyTransform([t[2],t[3]],this.transform);return[n[0],n[1],r[0],r[1]]},convertToPdfPoint:function(t,n){return _.applyInverseTransform([t,n],this.transform)}};return t}();var P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var G=PDFJS.Promise=function(){function o(){this._status=t;this._handlers=[]}var t=0;var n=1;var r=2;var i=500;var s={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function(n){if(n._status==t){return}this.handlers=this.handlers.concat(n._handlers);n._handlers=[];if(this.running){return}this.running=true;setTimeout(this.runHandlers.bind(this),0)},runHandlers:function(){while(this.handlers.length>0){var t=this.handlers.shift();var i=t.thisPromise._status;var s=t.thisPromise._value;try{if(i===n){if(typeof t.onResolve=="function"){s=t.onResolve(s)}}else if(typeof t.onReject==="function"){s=t.onReject(s);i=n;if(t.thisPromise._unhandledRejection){this.removeUnhandeledRejection(t.thisPromise)}}}catch(o){i=r;s=o}t.nextPromise._updateStatus(i,s)}this.running=false},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=false;for(var n=0;n<this.unhandledRejections.length;n++){if(this.unhandledRejections[n].promise===t){this.unhandledRejections.splice(n);n--}}},scheduleRejectionCheck:function(){if(this.pendingRejectionCheck){return}this.pendingRejectionCheck=true;setTimeout(function(){this.pendingRejectionCheck=false;var t=Date.now();for(var n=0;n<this.unhandledRejections.length;n++){if(t-this.unhandledRejections[n].time>i){var r=this.unhandledRejections[n].promise._value;var s="Unhandled rejection: "+r;if(r.stack){s+="\n"+r.stack}c(s);this.unhandledRejections.splice(n);n--}}if(this.unhandledRejections.length){this.scheduleRejectionCheck()}}.bind(this),i)}};o.all=function(t){function u(e){if(n._status===r){return}s=[];n.reject(e)}var n=new o;var i=t.length;var s=[];if(i===0){n.resolve(s);return n}for(var a=0,f=t.length;a<f;++a){var l=t[a];l.then(function(e){return function(t){if(n._status===r){return}s[e]=t;i--;if(i===0)n.resolve(s)}}(a),u)}return n};o.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,i){if(this._status===n||this._status===r){return}if(t==n&&i&&typeof i.then==="function"){i.then(this._updateStatus.bind(this,n),this._updateStatus.bind(this,r));return}this._status=t;this._value=i;if(t===r&&this._handlers.length===0){this._unhandledRejection=true;s.addUnhandledRejection(this)}s.scheduleHandlers(this)},get isResolved(){return this._status===n},get isRejected(){return this._status===r},resolve:function(t){this._updateStatus(n,t)},reject:function(t){this._updateStatus(r,t)},then:function(t,n){var r=new o;this._handlers.push({thisPromise:this,onResolve:t,onReject:n,nextPromise:r});s.scheduleHandlers(this);return r}};return o}();var Y=function(){function t(e,t,n){while(e.length<n)e+=t;return e}function n(){this.started={};this.times=[];this.enabled=true}n.prototype={time:function(t){if(!this.enabled)return;if(t in this.started)c("Timer is already running for "+t);this.started[t]=Date.now()},timeEnd:function(t){if(!this.enabled)return;if(!(t in this.started))c("Timer has not been started for "+t);this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]},toString:function(){var n=this.times;var r="";var i=0;for(var s=0,o=n.length;s<o;++s){var u=n[s]["name"];if(u.length>i)i=u.length}for(var s=0,o=n.length;s<o;++s){var a=n[s];var f=a.end-a.start;r+=t(a["name"]," ",i)+" "+f+"ms\n"}return r}};return n}();PDFJS.createBlob=function(t,n){if(typeof Blob==="function")return new Blob([t],{type:n});var r=new MozBlobBuilder;r.append(t);return r.getBlob(n)};Z.prototype={on:function(t,n,r){var i=this.actionHandler;if(i[t]){h('There is already an actionName called "'+t+'"')}i[t]=[n,r]},send:function(t,n,r){var i={action:t,data:n};if(r){var s=this.callbackIndex++;this.callbacks[s]=r;i.callbackId=s}this.comObj.postMessage(i)}};var tt=function(){function t(){h("should not call ColorSpace constructor")}t.prototype={getRgb:function(t,n){h("Should not call ColorSpace.getRgb")},getRgbItem:function(t,n,r,i){h("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(t,n,r,i,s,o){h("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(t){h("Should not call ColorSpace.getOutputLength")},isPassthrough:function(t){return false},createRgbBuffer:function(t,n,r,i){if(this.isPassthrough(i)){return t.subarray(n)}var s=new Uint8Array(r*3);var o=1<<i;if(this.numComps===1&&r>o&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){var u=i<=8?new Uint8Array(o):new Uint16Array(o);for(var a=0;a<o;a++){u[a]=a}var f=new Uint8Array(o*3);this.getRgbBuffer(u,0,o,f,0,i);var l=0;for(var a=0;a<r;++a){var c=t[n++]*3;s[l++]=f[c];s[l++]=f[c+1];s[l++]=f[c+2]}return s}this.getRgbBuffer(t,n,r,s,0,i);return s},usesZeroToOneRange:true};t.parse=function(n,r,i){var s=t.parseToIR(n,r,i);if(s instanceof nt)return s;return t.fromIR(s)};t.fromIR=function(n){var r=V(n)?n[0]:n;switch(r){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"PatternCS":var i=n[1];if(i)i=t.fromIR(i);return new rt(i);case"IndexedCS":var s=n[1];var o=n[2];var u=n[3];return new it(t.fromIR(s),o,u);case"AlternateCS":var a=n[1];var f=n[2];var l=n[3];return new nt(a,t.fromIR(f),pt.fromIR(l));case"LabCS":var c=n[1].WhitePoint;var p=n[1].BlackPoint;var d=n[1].Range;return new at(c,p,d);default:h("Unkown name "+r)}return null};t.parseToIR=function(n,r,i){if(z(n)){var s=i.get("ColorSpace");if(X(s)){var o=s.get(n.name);if(o)n=o}}n=r.fetchIfRef(n);var u;if(z(n)){u=n.name;this.mode=u;switch(u){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:h("unrecognized colorspace "+u)}}else if(V(n)){u=n[0].name;this.mode=u;switch(u){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return"DeviceGrayCS";case"CalRGB":return"DeviceRgbCS";case"ICCBased":var a=r.fetchIfRef(n[1]);var f=a.dict;var l=f.get("N");if(l==1)return"DeviceGrayCS";if(l==3)return"DeviceRgbCS";if(l==4)return"DeviceCmykCS";break;case"Pattern":var c=n[1];if(c)c=t.parseToIR(c,r,i);return["PatternCS",c];case"Indexed":case"I":var p=t.parseToIR(n[1],r,i);var d=n[2]+1;var v=r.fetchIfRef(n[3]);if($(v)){v=v.getBytes()}return["IndexedCS",p,d,v];case"Separation":case"DeviceN":var m=n[1];var l=1;if(z(m))l=1;else if(V(m))l=m.length;var g=t.parseToIR(n[2],r,i);var y=pt.getIR(r,r.fetchIfRef(n[3]));return["AlternateCS",l,g,y];case"Lab":var b=n[1].getAll();return["LabCS",b];default:h('unimplemented color space object "'+u+'"')}}else{h('unrecognized color space object: "'+n+'"')}return null};t.isDefaultDecode=function(t,n){if(!t)return true;if(n*2!==t.length){c("The decode map is not the correct length");return true}for(var r=0,i=t.length;r<i;r+=2){if(t[r]!==0||t[r+1]!=1)return false}return true};t.singletons={get gray(){return w(this,"gray",new st)},get rgb(){return w(this,"rgb",new ot)},get cmyk(){return w(this,"cmyk",new ut)}};return t}();var nt=function(){function t(e,t,n){this.name="Alternate";this.numComps=e;this.defaultColor=new Float32Array(e);for(var r=0;r<e;++r){this.defaultColor[r]=1}this.base=t;this.tintFn=n}t.prototype={getRgb:function(t,n){var r=new Uint8Array(3);this.getRgbItem(t,n,r,0);return r},getRgbItem:function(t,n,r,i){var s=this.base.numComps;var o="subarray"in t?t.subarray(n,n+this.numComps):Array.prototype.slice.call(t,n,n+this.numComps);var u=this.tintFn(o);this.base.getRgbItem(u,0,r,i)},getRgbBuffer:function(t,n,r,i,s,o){var u=this.tintFn;var a=this.base;var f=1/((1<<o)-1);var l=a.numComps;var c=a.usesZeroToOneRange;var h=a.isPassthrough(8)||!c;var p=h?s:0;var d=h?i:new Uint8Array(l*r);var v=this.numComps;var m=new Float32Array(v);for(var g=0;g<r;g++){for(var y=0;y<v;y++){m[y]=t[n++]*f}var b=u(m);if(c){for(var y=0;y<l;y++){d[p++]=b[y]*255}}else{a.getRgbItem(b,0,d,p);p+=l}}if(!h){a.getRgbBuffer(d,0,r,i,s,8)}},getOutputLength:function(t){return this.base.getOutputLength(t*this.base.numComps/this.numComps)},isPassthrough:tt.prototype.isPassthrough,createRgbBuffer:tt.prototype.createRgbBuffer,isDefaultDecode:function(t){return tt.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:true};return t}();var rt=function(){function t(e){this.name="Pattern";this.base=e}t.prototype={};return t}();var it=function(){function t(e,t,n){this.name="Indexed";this.numComps=1;this.defaultColor=new Uint8Array([0]);this.base=e;this.highVal=t;var r=e.numComps;var i=r*t;var s;if($(n)){s=new Uint8Array(i);var o=n.getBytes(i);s.set(o)}else if(R(n)){s=new Uint8Array(i);for(var u=0;u<i;++u)s[u]=n.charCodeAt(u)}else if(n instanceof Uint8Array||n instanceof Array){s=n}else{h("Unrecognized lookup table: "+n)}this.lookup=s}t.prototype={getRgb:function(t,n){var r=this.base.numComps;var i=t[n]*r;return this.base.getRgb(this.lookup,i)},getRgbItem:function(t,n,r,i){var s=this.base.numComps;var o=t[n]*s;this.base.getRgbItem(this.lookup,o,r,i)},getRgbBuffer:function(t,n,r,i,s){var o=this.base;var u=o.numComps;var a=o.getOutputLength(u);var f=this.lookup;for(var l=0;l<r;++l){var c=t[n++]*u;o.getRgbBuffer(f,c,1,i,s,8);s+=a}},getOutputLength:function(t){return this.base.getOutputLength(t*this.base.numComps)},isPassthrough:tt.prototype.isPassthrough,createRgbBuffer:tt.prototype.createRgbBuffer,isDefaultDecode:function(t){return true},usesZeroToOneRange:true};return t}();var st=function(){function t(){this.name="DeviceGray";this.numComps=1;this.defaultColor=new Float32Array([0])}t.prototype={getRgb:function(t,n){var r=new Uint8Array(3);this.getRgbItem(t,n,r,0);return r},getRgbItem:function(t,n,r,i){var s=t[n]*255|0;s=s<0?0:s>255?255:s;r[i]=r[i+1]=r[i+2]=s},getRgbBuffer:function(t,n,r,i,s,o){var u=255/((1<<o)-1);var a=n,f=s;for(var l=0;l<r;++l){var c=u*t[a++]|0;i[f++]=c;i[f++]=c;i[f++]=c}},getOutputLength:function(t){return t*3},isPassthrough:tt.prototype.isPassthrough,createRgbBuffer:tt.prototype.createRgbBuffer,isDefaultDecode:function(t){return tt.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:true};return t}();var ot=function(){function t(){this.name="DeviceRGB";this.numComps=3;this.defaultColor=new Float32Array([0,0,0])}t.prototype={getRgb:function(t,n){var r=new Uint8Array(3);this.getRgbItem(t,n,r,0);return r},getRgbItem:function(t,n,r,i){var s=t[n]*255|0;var o=t[n+1]*255|0;var u=t[n+2]*255|0;r[i]=s<0?0:s>255?255:s;r[i+1]=o<0?0:o>255?255:o;r[i+2]=u<0?0:u>255?255:u},getRgbBuffer:function(t,n,r,i,s,o){var u=r*3;if(o==8){i.set(t.subarray(n,n+u),s);return}var a=255/((1<<o)-1);var f=n,l=s;for(var c=0;c<u;++c){i[l++]=a*t[f++]|0}},getOutputLength:function(t){return t},isPassthrough:function(t){return t==8},createRgbBuffer:tt.prototype.createRgbBuffer,isDefaultDecode:function(t){return tt.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:true};return t}();var ut=function(){function t(e,t,n,r,i){var s=e[t+0]*n;var o=e[t+1]*n;var u=e[t+2]*n;var a=e[t+3]*n;var f=s*(-4.387332384609988*s+54.48615194189176*o+18.82290502165302*u+212.25662451639585*a+ -285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*u+ -17.873870861415444*a-5.497006427196366)+u*(-2.5217340131683033*u-21.248923337353073*a+17.5119270841813)+a*(-21.86122147463605*a-189.48180835922747)+255;var l=s*(8.841041422036149*s+60.118027045597366*o+6.871425592049007*u+31.159100130055922*a+ -79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*u+131.35250912493976*a-190.9453302588951)+u*(4.444339102852739*u+9.8632861493405*a-24.86741582555878)+a*(-20.737325471181034*a-187.80453709719578)+255;var c=s*(.8842522430003296*s+8.078677503112928*o+30.89978309703729*u-.23883238689178934*a+ -14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*u+50.606957656360734*a-112.23884253719248)+u*(.03296041114873217*u+115.60384449646641*a+ -193.58209356861505)+a*(-22.33816807309886*a-180.12613974708367)+255;r[i]=f>255?255:f<0?0:f;r[i+1]=l>255?255:l<0?0:l;r[i+2]=c>255?255:c<0?0:c}function n(){this.name="DeviceCMYK";this.numComps=4;this.defaultColor=new Float32Array([0,0,0,1])}n.prototype={getRgb:function(n,r){var i=new Uint8Array(3);t(n,r,1,i,0);return i},getRgbItem:function(n,r,i,s){t(n,r,1,i,s)},getRgbBuffer:function(n,r,i,s,o,u){var a=1/((1<<u)-1);for(var f=0;f<i;f++){t(n,r,a,s,o);r+=4;o+=3}},getOutputLength:function(t){return(t>>2)*3},isPassthrough:tt.prototype.isPassthrough,createRgbBuffer:tt.prototype.createRgbBuffer,isDefaultDecode:function(t){return tt.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:true};return n}();var at=function(){function t(e,t,n){this.name="Lab";this.numComps=3;this.defaultColor=new Float32Array([0,0,0]);if(!e)h("WhitePoint missing - required for color space Lab");t=t||[0,0,0];n=n||[-100,100,-100,100];this.XW=e[0];this.YW=e[1];this.ZW=e[2];this.amin=n[0];this.amax=n[1];this.bmin=n[2];this.bmax=n[3];this.XB=t[0];this.YB=t[1];this.ZB=t[2];if(this.XW<0||this.ZW<0||this.YW!==1)h("Invalid WhitePoint components, no fallback available");if(this.XB<0||this.YB<0||this.ZB<0){l("Invalid BlackPoint, falling back to default");this.XB=this.YB=this.ZB=0}if(this.amin>this.amax||this.bmin>this.bmax){l("Invalid Range, falling back to defaults");this.amin=-100;this.amax=100;this.bmin=-100;this.bmax=100}}function n(e){if(e>=6/29)return e*e*e;else return 108/841*(e-4/29)}function r(e,t,n,r){return n+e*(r-n)/t}function i(e,t,i,s,o,u){var a=t[i];var f=t[i+1];var l=t[i+2];if(s!==false){a=r(a,s,0,100);f=r(f,s,e.amin,e.amax);l=r(l,s,e.bmin,e.bmax)}f=f>e.amax?e.amax:f<e.amin?e.amin:f;l=l>e.bmax?e.bmax:l<e.bmin?e.bmin:l;var c=(a+16)/116;var h=c+f/500;var p=c-l/200;var d=e.XW*n(h);var v=e.YW*n(c);var m=e.ZW*n(p);var g,y,b;if(e.ZW<1){g=d*3.1339+v*-1.617+m*-.4906;y=d*-.9785+v*1.916+m*.0333;b=d*.072+v*-.229+m*1.4057}else{g=d*3.2406+v*-1.5372+m*-.4986;y=d*-.9689+v*1.8758+m*.0415;b=d*.0557+v*-.204+m*1.057}o[u]=Math.sqrt(g<0?0:g>1?1:g)*255;o[u+1]=Math.sqrt(y<0?0:y>1?1:y)*255;o[u+2]=Math.sqrt(b<0?0:b>1?1:b)*255}t.prototype={getRgb:function(t,n){var r=new Uint8Array(3);i(this,t,n,false,r,0);return r},getRgbItem:function(t,n,r,s){i(this,t,n,false,r,s)},getRgbBuffer:function(t,n,r,s,o,u){var a=(1<<u)-1;for(var f=0;f<r;f++){i(this,t,n,a,s,o);n+=3;o+=3}},getOutputLength:function(t){return t},isPassthrough:tt.prototype.isPassthrough,isDefaultDecode:function(t){return true},usesZeroToOneRange:false};return t}();var ft={AXIAL:2,RADIAL:3};var lt=function(){function t(){h("should not call Pattern constructor")}t.prototype={getPattern:function(t){h("Should not call Pattern.getStyle: "+t)}};t.shadingFromIR=function(t){return ct[t[0]].fromIR(t)};t.parseShading=function(t,n,r,i){var s=$(t)?t.dict:t;var o=s.get("ShadingType");switch(o){case ft.AXIAL:case ft.RADIAL:return new ct.RadialAxial(s,n,r,i);default:p("Unsupported shading type: "+o);return new ct.Dummy}};return t}();var ct={};ct.SMALL_NUMBER=.01;ct.RadialAxial=function(){function t(e,t,n,r,i){this.matrix=t;this.coordsArr=e.get("Coords");this.shadingType=e.get("ShadingType");this.type="Pattern";this.ctx=i;var s=e.get("ColorSpace","CS");s=tt.parse(s,n,r);this.cs=s;var o=0,u=1;if(e.has("Domain")){var a=e.get("Domain");o=a[0];u=a[1]}var f=false,p=false;if(e.has("Extend")){var d=e.get("Extend");f=d[0];p=d[1]}if(this.shadingType===ft.RADIAL&&(!f||!p)){var v=this.coordsArr[0];var m=this.coordsArr[1];var g=this.coordsArr[2];var y=this.coordsArr[3];var b=this.coordsArr[4];var w=this.coordsArr[5];var E=Math.sqrt((v-y)*(v-y)+(m-b)*(m-b));if(g<=w+E&&w<=g+E){c("Unsupported radial gradient.")}}this.extendStart=f;this.extendEnd=p;var S=e.get("Function");var x;if(V(S)){var T=[];for(var N=0,C=S.length;N<C;N++){var k=n.fetchIfRef(S[N]);if(!Q(k)){h("Invalid function")}T.push(pt.parse(n,k))}x=function(t){var n=[];for(var r=0,i=T.length;r<i;r++){n.push(T[r](t)[0])}return n}}else{if(!Q(S)){h("Invalid function")}x=pt.parse(n,S)}var L=u-o;var A=L/10;var O=this.colorStops=[];if(o>=u||A<=0){l("Bad shading domain.");return}for(var M=o;M<=u;M+=A){var D=s.getRgb(x([M]),0);var P=_.makeCssRgb(D);O.push([(M-o)/L,P])}var H="transparent";if(e.has("Background")){var D=s.getRgb(e.get("Background"),0);H=_.makeCssRgb(D)}if(!f){O.unshift([0,H]);O[1][0]+=ct.SMALL_NUMBER}if(!p){O[O.length-1][0]-=ct.SMALL_NUMBER;O.push([1,H])}this.colorStops=O}t.fromIR=function(t){var n=t[1];var r=t[2];var i=t[3];var s=t[4];var o=t[5];var u=t[6];return{type:"Pattern",getPattern:function(t){var a;if(n==ft.AXIAL)a=t.createLinearGradient(i[0],i[1],s[0],s[1]);else if(n==ft.RADIAL)a=t.createRadialGradient(i[0],i[1],o,s[0],s[1],u);for(var f=0,l=r.length;f<l;++f){var c=r[f];a.addColorStop(c[0],c[1])}return a}}};t.prototype={getIR:function(){var t=this.coordsArr;var n=this.shadingType;if(n==ft.AXIAL){var r=[t[0],t[1]];var i=[t[2],t[3]];var s=null;var o=null}else if(n==ft.RADIAL){var r=[t[0],t[1]];var i=[t[3],t[4]];var s=t[2];var o=t[5]}else{h("getPattern type unknown: "+n)}var u=this.matrix;if(u){r=_.applyTransform(r,u);i=_.applyTransform(i,u)}return["RadialAxial",n,this.colorStops,r,i,s,o]}};return t}();ct.Dummy=function(){function t(){this.type="Pattern"}t.fromIR=function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}};t.prototype={getIR:function(){return["Dummy"]}};return t}();var ht=function(){function r(e,t,n,r,i,s){this.name=e[1][0].name;this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.objs=r;this.commonObjs=i;this.baseTransform=s;this.type="Pattern";this.ctx=n}var t={COLORED:1,UNCOLORED:2};var n=3e3;r.getIR=function(t,n,r){var i=n.get("Matrix");var s=n.get("BBox");var o=n.get("XStep");var u=n.get("YStep");var a=n.get("PaintType");var f=n.get("TilingType");return["TilingPattern",r,t,i,s,o,u,a,f]};r.prototype={createPatternCanvas:function(t){var r=this.operatorList;var i=this.bbox;var s=this.xstep;var o=this.ystep;var u=this.paintType;var a=this.tilingType;var f=this.color;var l=this.objs;var c=this.commonObjs;var h=this.ctx;p("TilingType: "+a);var d=i[0],v=i[1],m=i[2],g=i[3];var y=[d,v];var b=[d+s,v+o];var w=b[0]-y[0];var E=b[1]-y[1];var S=_.singularValueDecompose2dScale(this.matrix);var x=_.singularValueDecompose2dScale(this.baseTransform);var T=[S[0]*x[0],S[1]*x[1]];w=Math.min(Math.ceil(Math.abs(w*T[0])),n);E=Math.min(Math.ceil(Math.abs(E*T[1])),n);var N=jt.getCanvas("pattern",w,E,true);var C=N.context;var k=new qt(C,c,l);k.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(C,u,f);this.setScale(w,E,s,o);this.transformToScale(k);var L=[1,0,0,1,-y[0],-y[1]];k.transform.apply(k,L);this.clipBbox(k,i,d,v,m,g);k.executeOperatorList(r);return N.canvas},setScale:function(t,n,r,i){this.scale=[t/r,n/i]},transformToScale:function(t){var n=this.scale;var r=[n[0],0,0,n[1],0,0];t.transform.apply(t,r)},scaleToContext:function(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function(t,n,r,i,s,o){if(n&&V(n)&&4==n.length){var u=s-r;var a=o-i;t.rectangle(r,i,u,a);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function(n,r,i){switch(r){case t.COLORED:var s=this.ctx;n.fillStyle=s.fillStyle;n.strokeStyle=s.strokeStyle;break;case t.UNCOLORED:var o=tt.singletons.rgb.getRgb(i,0);var u=_.makeCssRgb(o);n.fillStyle=u;n.strokeStyle=u;break;default:h("Unsupported paint type: "+r)}},getPattern:function(t,n){var r=this.createPatternCanvas(n);var t=this.ctx;t.setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);this.scaleToContext();return t.createPattern(r,"repeat")}};return r}();var pt=function(){var t=0;var n=2;var r=3;var i=4;return{getSampleArray:function(t,n,r,i){var s=1;for(var o=0,u=t.length;o<u;o++)s*=t[o];s*=n;var a=[];var f=0;var l=0;var c=1/(Math.pow(2,r)-1);var h=i.getBytes((s*r+7)/8);var p=0;for(var o=0;o<s;o++){while(f<r){l<<=8;l|=h[p++];f+=8}f-=r;a.push((l>>f)*c);l&=(1<<f)-1}return a},getIR:function(t,n){var r=n.dict;if(!r)r=n;var i=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript];var s=r.get("FunctionType");var o=i[s];if(!o)h("Unknown type of function");return o.call(this,n,r,t)},fromIR:function(i){var s=i[0];switch(s){case t:return this.constructSampledFromIR(i);case n:return this.constructInterpolatedFromIR(i);case r:return this.constructStichedFromIR(i);default:return this.constructPostScriptFromIR(i)}},parse:function(t,n){var r=this.getIR(t,n);return this.fromIR(r)},constructSampled:function(n,r){function i(e){var t=e.length;var n=e.length/2;var r=[];var i=0;for(var s=0;s<t;s+=2){r[i]=[e[s],e[s+1]];++i}return r}var s=r.get("Domain");var o=r.get("Range");if(!s||!o)h("No domain or range");var u=s.length/2;var a=o.length/2;s=i(s);o=i(o);var f=r.get("Size");var l=r.get("BitsPerSample");var c=r.get("Order")||1;if(c!==1){p("No support for cubic spline interpolation: "+c)}var d=r.get("Encode");if(!d){d=[];for(var v=0;v<u;++v){d.push(0);d.push(f[v]-1)}}d=i(d);var m=r.get("Decode");if(!m)m=o;else m=i(m);var g=this.getSampleArray(f,a,l,n);return[t,u,s,d,m,g,f,a,Math.pow(2,l)-1,o]},constructSampledFromIR:function(t){function n(e,t,n,r,i){return r+(e-t)*((i-r)/(n-t))}return function(r){var i=t[1];var s=t[2];var o=t[3];var u=t[4];var a=t[5];var f=t[6];var l=t[7];var c=t[8];var p=t[9];if(i!=r.length)h("Incorrect number of arguments: "+i+" != "+r.length);var d=r;var v=1<<i;var m=new Float64Array(v);var g=new Uint32Array(v);for(var y=0;y<v;y++)m[y]=1;var b=l,w=1;for(var E=0;E<i;++E){var S=s[E][0];var x=s[E][1];var T=Math.min(Math.max(d[E],S),x);var N=n(T,S,x,o[E][0],o[E][1]);var C=f[E];N=Math.min(Math.max(N,0),C-1);var k=N<C-1?Math.floor(N):N-1;var L=k+1-N;var A=N-k;var O=k*b;var M=O+b;for(var y=0;y<v;y++){if(y&w){m[y]*=A;g[y]+=M}else{m[y]*=L;g[y]+=O}}b*=C;w<<=1}var _=new Float64Array(l);for(var y=0;y<l;++y){var D=0;for(var E=0;E<v;E++)D+=a[g[E]+y]*m[E];D=n(D,0,1,u[y][0],u[y][1]);_[y]=Math.min(Math.max(D,p[y][0]),p[y][1])}return _}},constructInterpolated:function(t,r){var i=r.get("C0")||[0];var s=r.get("C1")||[1];var o=r.get("N");if(!V(i)||!V(s))h("Illegal dictionary for interpolated function");var u=i.length;var a=[];for(var f=0;f<u;++f)a.push(s[f]-i[f]);return[n,i,a,o]},constructInterpolatedFromIR:function(t){var n=t[1];var r=t[2];var i=t[3];var s=r.length;return function(t){var o=i==1?t[0]:Math.pow(t[0],i);var u=[];for(var a=0;a<s;++a)u.push(n[a]+o*r[a]);return u}},constructStiched:function(t,n,i){var s=n.get("Domain");if(!s)h("No domain");var o=s.length/2;if(o!=1)h("Bad domain for stiched function");var u=n.get("Functions");var a=[];for(var f=0,l=u.length;f<l;++f)a.push(pt.getIR(i,i.fetchIfRef(u[f])));var c=n.get("Bounds");var p=n.get("Encode");return[r,s,c,p,a]},constructStichedFromIR:function(t){var n=t[1];var r=t[2];var i=t[3];var s=t[4];var o=[];for(var u=0,a=s.length;u<a;u++){o.push(pt.fromIR(s[u]))}return function(t){var s=function(t,n,r){if(t>r)t=r;else if(t<n)t=n;return t};var u=s(t[0],n[0],n[1]);for(var a=0,f=r.length;a<f;++a){if(u<r[a])break}var l=n[0];if(a>0)l=r[a-1];var c=n[1];if(a<r.length)c=r[a];var h=i[2*a];var p=i[2*a+1];var d=h+(u-l)*(p-h)/(c-l);return o[a]([d])}},constructPostScript:function(t,n,r){var s=n.get("Domain");var o=n.get("Range");if(!s)h("No domain.");if(!o)h("No range.");var u=new wt(t);var a=new gt(u);var f=a.parse();return[i,s,o,f]},constructPostScriptFromIR:function(t){var n=t[1];var r=t[2];var i=t[3];var s=r.length/2;var o=new mt(i);var u=new dt;return function(t){var i=[];for(var a=0,f=n.length/2;a<f;++a){i.push(t[a])}var l=i.join("_");if(u.has(l))return u.get(l);var c=o.execute(i);var h=[];for(a=s-1;a>=0;--a){var p=c.pop();var d=2*a;if(p<r[d])p=r[d];else if(p>r[d+1])p=r[d+1];h[a]=p}u.set(l,h);return h}}}}();var dt=function(){function n(){this.cache={};this.total=0}var t=1024;n.prototype={has:function(t){return t in this.cache},get:function(t){return this.cache[t]},set:function(n,r){if(this.total<t){this.cache[n]=r;this.total++}}};return n}();var vt=function(){function n(e){this.stack=e||[]}var t=100;n.prototype={push:function(n){if(this.stack.length>=t)h("PostScript function stack overflow.");this.stack.push(n)},pop:function(){if(this.stack.length<=0)h("PostScript function stack underflow.");return this.stack.pop()},copy:function(n){if(this.stack.length+n>=t)h("PostScript function stack overflow.");var r=this.stack;for(var i=r.length-n,s=n-1;s>=0;s--,i++)r.push(r[i])},index:function(t){this.push(this.stack[this.stack.length-t-1])},roll:function(t,n){var r=this.stack;var i=r.length-t;var s=r.length-1,o=i+(n-Math.floor(n/t)*t),u,a,f;for(u=i,a=s;u<a;u++,a--){f=r[u];r[u]=r[a];r[a]=f}for(u=i,a=o-1;u<a;u++,a--){f=r[u];r[u]=r[a];r[a]=f}for(u=o,a=s;u<a;u++,a--){f=r[u];r[u]=r[a];r[a]=f}}};return n}();var mt=function(){function t(e,t){this.operators=e;this.operands=t}t.prototype={execute:function(t){var n=new vt(t);var r=0;var i=this.operators;var s=i.length;var o,u,a;while(r<s){o=i[r++];if(typeof o=="number"){n.push(o);continue}switch(o){case"jz":a=n.pop();u=n.pop();if(!u)r=a;break;case"j":u=n.pop();r=u;break;case"abs":u=n.pop();n.push(Math.abs(u));break;case"add":a=n.pop();u=n.pop();n.push(u+a);break;case"and":a=n.pop();u=n.pop();if(F(u)&&F(a))n.push(u&&a);else n.push(u&a);break;case"atan":u=n.pop();n.push(Math.atan(u));break;case"bitshift":a=n.pop();u=n.pop();if(u>0)n.push(u<<a);else n.push(u>>a);break;case"ceiling":u=n.pop();n.push(Math.ceil(u));break;case"copy":u=n.pop();n.copy(u);break;case"cos":u=n.pop();n.push(Math.cos(u));break;case"cvi":u=n.pop()|0;n.push(u);break;case"cvr":break;case"div":a=n.pop();u=n.pop();n.push(u/a);break;case"dup":n.copy(1);break;case"eq":a=n.pop();u=n.pop();n.push(u==a);break;case"exch":n.roll(2,1);break;case"exp":a=n.pop();u=n.pop();n.push(Math.pow(u,a));break;case"false":n.push(false);break;case"floor":u=n.pop();n.push(Math.floor(u));break;case"ge":a=n.pop();u=n.pop();n.push(u>=a);break;case"gt":a=n.pop();u=n.pop();n.push(u>a);break;case"idiv":a=n.pop();u=n.pop();n.push(u/a|0);break;case"index":u=n.pop();n.index(u);break;case"le":a=n.pop();u=n.pop();n.push(u<=a);break;case"ln":u=n.pop();n.push(Math.log(u));break;case"log":u=n.pop();n.push(Math.log(u)/Math.LN10);break;case"lt":a=n.pop();u=n.pop();n.push(u<a);break;case"mod":a=n.pop();u=n.pop();n.push(u%a);break;case"mul":a=n.pop();u=n.pop();n.push(u*a);break;case"ne":a=n.pop();u=n.pop();n.push(u!=a);break;case"neg":u=n.pop();n.push(-a);break;case"not":u=n.pop();if(F(u)&&F(a))n.push(u&&a);else n.push(u&a);break;case"or":a=n.pop();u=n.pop();if(F(u)&&F(a))n.push(u||a);else n.push(u|a);break;case"pop":n.pop();break;case"roll":a=n.pop();u=n.pop();n.roll(u,a);break;case"round":u=n.pop();n.push(Math.round(u));break;case"sin":u=n.pop();n.push(Math.sin(u));break;case"sqrt":u=n.pop();n.push(Math.sqrt(u));break;case"sub":a=n.pop();u=n.pop();n.push(u-a);break;case"true":n.push(true);break;case"truncate":u=n.pop();u=u<0?Math.ceil(u):Math.floor(u);n.push(u);break;case"xor":a=n.pop();u=n.pop();if(F(u)&&F(a))n.push(u!=a);else n.push(u^a);break;default:h("Unknown operator "+o);break}}return n.stack}};return t}();var gt=function(){function t(e){this.lexer=e;this.operators=[];this.token=null;this.prev=null}t.prototype={nextToken:function(){this.prev=this.token;this.token=this.lexer.getToken()},accept:function(t){if(this.token.type==t){this.nextToken();return true}return false},expect:function(t){if(this.accept(t))return true;h("Unexpected symbol: found "+this.token.type+" expected "+t+".")},parse:function(){this.nextToken();this.expect(yt.LBRACE);this.parseBlock();this.expect(yt.RBRACE);return this.operators},parseBlock:function(){while(true){if(this.accept(yt.NUMBER)){this.operators.push(this.prev.value)}else if(this.accept(yt.OPERATOR)){this.operators.push(this.prev.value)}else if(this.accept(yt.LBRACE)){this.parseCondition()}else{return}}},parseCondition:function(){var t=this.operators.length;this.operators.push(null,null);this.parseBlock();this.expect(yt.RBRACE);if(this.accept(yt.IF)){this.operators[t]=this.operators.length;this.operators[t+1]="jz"}else if(this.accept(yt.LBRACE)){var n=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock();this.expect(yt.RBRACE);this.expect(yt.IFELSE);this.operators[n]=this.operators.length;this.operators[n+1]="j";this.operators[t]=r;this.operators[t+1]="jz"}else{h("PS Function: error parsing conditional.")}}};return t}();var yt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};var bt=function(){function t(e,t){this.type=e;this.value=t}var n={};t.getOperator=function(r){var i=n[r];if(i)return i;return n[r]=new t(yt.OPERATOR,r)};t.LBRACE=new t(yt.LBRACE,"{");t.RBRACE=new t(yt.RBRACE,"}");t.IF=new t(yt.IF,"IF");t.IFELSE=new t(yt.IFELSE,"IFELSE");return t}();var wt=function(){function t(e){this.stream=e;this.nextChar()}t.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){var t="";var n=false;var r=this.currentChar;while(true){if(r<0){return EOF}if(n){if(r===10||r===13){n=false}}else if(r==37){n=true}else if(!Lexer.isSpace(r)){break}r=this.nextChar()}switch(r|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new bt(yt.NUMBER,this.getNumber());case 123:this.nextChar();return bt.LBRACE;case 125:this.nextChar();return bt.RBRACE}var i=String.fromCharCode(r);while((r=this.nextChar())>=0&&(r>=65&&r<=90||r>=97&&r<=122)){i+=String.fromCharCode(r)}switch(i.toLowerCase()){case"if":return bt.IF;case"ifelse":return bt.IFELSE;default:return bt.getOperator(i)}},getNumber:function(){var t=this.currentChar;var n=String.fromCharCode(t);while((t=this.nextChar())>=0){if(t>=48&&t<=57||t===45||t===46){n+=String.fromCharCode(t)}else{break}}var r=parseFloat(n);if(isNaN(r))h("Invalid floating point number: "+r);return r}};return t}();var Et=function(){function t(e,t,n){var r=_.getAxialAlignedBoundingBox(t,n);var i=r[0];var s=r[1];var o=r[2];var u=r[3];if(i===o||s===u){return[1,0,0,1,e[0],e[1]]}var a=(e[2]-e[0])/(o-i);var f=(e[3]-e[1])/(u-s);return[a,0,0,f,e[0]-i*a,e[1]-s*f]}function r(e){var t=e.get("AP");if(!X(t)){return}var n;var r=t.get("N");if(X(r)){var i=e.get("AS");if(i&&r.has(i.name)){n=r.get(i.name)}}else{n=r}return n}function i(e){if(e.data){this.data=e.data;return}var t=e.dict;var n=this.data={};n.subtype=t.get("Subtype").name;var i=t.get("Rect");n.rect=_.normalizeRect(i);n.annotationFlags=t.get("F");var s=t.get("C");if(V(s)&&s.length===3){n.color=s}else{n.color=[0,0,0]}if(t.has("BS")){var o=t.get("BS");n.borderWidth=o.has("W")?o.get("W"):1}else{var u=t.get("Border")||[0,0,1];n.borderWidth=u[2]||0}this.appearance=r(t);n.hasAppearance=!!this.appearance}i.prototype={getData:function(){return this.data},hasHtml:function(){return false},getHtmlElement:function(t){throw new C("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(t,r){v(!n,"getEmptyContainer() should be called from main thread");r=r||this.data.rect;var i=document.createElement(t);i.style.width=Math.ceil(r[2]-r[0])+"px";i.style.height=Math.ceil(r[3]-r[1])+"px";return i},isViewable:function(){var t=this.data;return!!(t&&(!t.annotationFlags||!(t.annotationFlags&34))&&t.rect)},loadResources:function(e){var t=new G;this.appearance.dict.getAsync("Resources").then(function(n){if(!n){t.resolve();return}var r=new ObjectLoader(n.map,e,n.xref);r.load().then(function(){t.resolve(n)})}.bind(this));return t},getOperatorList:function(n){var r=new G;if(!this.appearance){r.resolve(new OperatorList);return r}var i=this.data;var s=this.appearance.dict;var o=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]);var u=s.get("BBox")||[0,0,1,1];var a=s.get("Matrix")||[1,0,0,1,0,0];var f=t(i.rect,u,a);var l=i.border;o.then(function(e){var t=new OperatorList;t.addOp("beginAnnotation",[i.rect,f,a]);n.getOperatorList(this.appearance,e,t);t.addOp("endAnnotation",[]);r.resolve(t)}.bind(this));return r}};i.getConstructor=function(t,n){if(!t){return}if(t==="Link"){return Nt}else if(t==="Text"){return Tt}else if(t==="Widget"){if(!n){return}if(n==="Tx"){return xt}else{return St}}else{return i}};i.fromData=function(t){var n=t.subtype;var r=t.fieldType;var s=i.getConstructor(n,r);if(s){return new s({data:t})}};i.fromRef=function(t,n){var r=t.fetchIfRef(n);if(!X(r)){return}var s=r.get("Subtype");s=z(s)?s.name:"";if(!s){return}var o=_.getInheritableProperty(r,"FT");o=z(o)?o.name:"";var u=i.getConstructor(s,o);if(!u){return}var a={dict:r,ref:n};var f=new u(a);if(f.isViewable()){return f}else{p("unimplemented annotation type: "+s)}};i.appendToOperatorList=function(t,n,r,i){function s(e){o.reject(e)}var o=new G;var u=[];for(var a=0,f=t.length;a<f;++a){u.push(t[a].getOperatorList(i))}G.all(u).then(function(e){n.addOp("beginAnnotations",[]);for(var t=0,r=e.length;t<r;++t){var i=e[t];n.addOpList(i)}n.addOp("endAnnotations",[]);o.resolve()},s);return o};return i}();PDFJS.Annotation=Et;var St=function(){function t(e){Et.call(this,e);if(e.data){return}var t=e.dict;var n=this.data;n.fieldValue=H(_.getInheritableProperty(t,"V")||"");n.alternativeText=H(t.get("TU")||"");n.defaultAppearance=_.getInheritableProperty(t,"DA")||"";var r=_.getInheritableProperty(t,"FT");n.fieldType=z(r)?r.name:"";n.fieldFlags=_.getInheritableProperty(t,"Ff")||0;this.fieldResources=_.getInheritableProperty(t,"DR")||new Dict;var i=[];var s=t;var o=e.ref;while(s){var u=s.get("Parent");var a=s.getRaw("Parent");var f=s.get("T");if(f){i.unshift(H(f))}else{var l=u.get("Kids");var c,h;for(c=0,h=l.length;c<h;c++){var p=l[c];if(p.num==o.num&&p.gen==o.gen)break}i.unshift("`"+c)}s=u;o=a}n.fullName=i.join(".")}var n=Et.prototype;_.inherit(t,Et,{isViewable:function(){if(this.data.fieldType==="Sig"){p("unimplemented annotation type: Widget signature");return false}return n.isViewable.call(this)}});return t}();var xt=function(){function t(e){St.call(this,e);if(e.data){return}this.data.textAlignment=_.getInheritableProperty(e.dict,"Q")}function r(e,t,n){var r=e.style;r.fontSize=t.fontSize+"px";r.direction=t.fontDirection<0?"rtl":"ltr";if(!n){return}r.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal";r.fontStyle=n.italic?"italic":"normal";var i=n.loadedName;var s=i?'"'+i+'", ':"";var o=n.fallbackName||"Helvetica, sans-serif";r.fontFamily=s+o}var i=St.prototype;_.inherit(t,St,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(t){v(!n,"getHtmlElement() shall be called from main thread");var i=this.data;var s=this.getEmptyContainer("div");s.style.display="table";var o=document.createElement("div");o.textContent=i.fieldValue;var u=i.textAlignment;o.style.textAlign=["left","center","right"][u];o.style.verticalAlign="middle";o.style.display="table-cell";var a=i.fontRefName?t.getData(i.fontRefName):null;var f=r(o,i,a);s.appendChild(o);return s},getOperatorList:function(t){if(this.appearance){return Et.prototype.getOperatorList.call(this,t)}var n=new G;var r=new OperatorList;var i=this.data;var s=i.defaultAppearance;if(!s){n.resolve(r);return n}var o=new Stream(O(s));t.getOperatorList(o,this.fieldResources,r);var u=r.fnArray;var a=r.argsArray;var f=[];var l=[];i.rgb=[0,0,0];for(var c=0,h=f.length;c<h;++c){var p=u[c];var d=a[c];if(p==="setFont"){i.fontRefName=d[0];var v=d[1];if(v<0){i.fontDirection=-1;i.fontSize=-v}else{i.fontDirection=1;i.fontSize=v}}else if(p==="setFillRGBColor"){i.rgb=d}else if(p==="setFillGray"){var m=d[0]*255;i.rgb=[m,m,m]}}n.resolve(r);return n}});return t}();var Tt=function(){function t(e){Et.call(this,e);if(e.data){return}var t=e.dict;var n=this.data;var r=t.get("Contents");var i=t.get("T");n.content=H(r||"");n.title=H(i||"");n.name=!t.has("Name")?"Note":t.get("Name").name}var r=10;_.inherit(t,Et,{getOperatorList:function(t){var n=new G;n.resolve(new OperatorList);return n},hasHtml:function(){return true},getHtmlElement:function(t){v(!n,"getHtmlElement() shall be called from main thread");var i=this.data;var s=i.rect;if(s[3]-s[1]<r){s[3]=s[1]+r}if(s[2]-s[0]<r){s[2]=s[0]+(s[3]-s[1])}var o=this.getEmptyContainer("section",s);o.className="annotText";var u=document.createElement("img");u.style.height=o.style.height;var a=i.name;u.src=PDFJS.imageResourcesPath+"annotation-"+a.toLowerCase()+".svg";u.alt="[{{type}} Annotation]";u.dataset.l10nId="text_annotation_type";u.dataset.l10nArgs=JSON.stringify({type:a});var f=document.createElement("div");f.setAttribute("hidden",true);var l=document.createElement("h1");var c=document.createElement("p");f.style.left=Math.floor(s[2]-s[0])+"px";f.style.top="0px";l.textContent=i.title;if(!i.content&&!i.title){f.setAttribute("hidden",true)}else{var h=document.createElement("span");var p=i.content.split(/(?:\r\n?|\n)/);for(var d=0,m=p.length;d<m;++d){var g=p[d];h.appendChild(document.createTextNode(g));if(d<m-1)h.appendChild(document.createElement("br"))}c.appendChild(h);var y=function(){o.style.zIndex+=1;f.removeAttribute("hidden")};var b=function(t){if(t.toElement||t.relatedTarget){o.style.zIndex-=1;f.setAttribute("hidden",true)}};f.addEventListener("mouseover",y,false);f.addEventListener("mouseout",b,false);u.addEventListener("mouseover",y,false);u.addEventListener("mouseout",b,false)}f.appendChild(l);f.appendChild(c);o.appendChild(u);o.appendChild(f);return o}});return t}();var Nt=function(){function t(e){Et.call(this,e);if(e.data){return}var t=e.dict;var n=this.data;var r=t.get("A");if(r){var i=r.get("S").name;if(i==="URI"){var s=r.get("URI");if(!g(s,false)){s=""}n.url=s}else if(i==="GoTo"){n.dest=r.get("D")}else if(i==="GoToR"){var o=r.get("F");if(X(o)){s=o.get("F")||""}if(!g(s,false)){s=""}n.url=s;n.dest=r.get("D")}else if(i==="Named"){n.action=r.get("N").name}else{p("unrecognized link type: "+i)}}else if(t.has("Dest")){var u=t.get("Dest");n.dest=z(u)?u.name:u}}_.inherit(t,Et,{hasOperatorList:function(){return false},hasHtml:function(){return true},getHtmlElement:function(t){var n=this.data.rect;var r=document.createElement("a");var i=this.data.borderWidth;r.style.borderWidth=i+"px";var s=this.data.color;var o=[];for(var u=0;u<3;++u){o[u]=Math.round(s[u]*255)}r.style.borderColor=_.makeCssRgb(o);r.style.borderStyle="solid";var a=n[2]-n[0]-2*i;var f=n[3]-n[1]-2*i;r.style.width=a+"px";r.style.height=f+"px";r.href=this.data.url||"";return r}});return t}();PDFJS.maxImageSize=PDFJS.maxImageSize===undefined?-1:PDFJS.maxImageSize;PDFJS.disableFontFace=PDFJS.disableFontFace===undefined?false:PDFJS.disableFontFace;PDFJS.getDocument=function(t,n,r,i){var s,o,u;if(typeof t==="string"){t={url:t}}else if(J(t)){t={data:t}}else if(typeof t!=="object"){h("Invalid parameter in getDocument, need either Uint8Array, "+"string or a parameter object")}if(!t.url&&!t.data)h("Invalid parameter array, need either .data or .url");var a={};for(var f in t){if(f==="url"&&typeof window!=="undefined"){a[f]=m(window.location.href,t[f]);continue}a[f]=t[f]}s=new PDFJS.Promise;o=new PDFJS.Promise;u=new Lt(s,o,n,i);s.then(function(){u.passwordCallback=r;u.fetchDocument(a)});return o};var Ct=function(){function t(e,t){this.pdfInfo=e;this.transport=t}t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},get embeddedFontsUsed(){return this.transport.embeddedFontsUsed},getPage:function(t){return this.transport.getPage(t)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var t=new PDFJS.Promise;var n=this.pdfInfo.javaScript;t.resolve(n);return t},getOutline:function(){var t=new PDFJS.Promise;var n=this.pdfInfo.outline;t.resolve(n);return t},getMetadata:function(){var t=new PDFJS.Promise;var n=this.pdfInfo.info;var r=this.pdfInfo.metadata;t.resolve({info:n,metadata:r?new PDFJS.Metadata(r):null});return t},isEncrypted:function(){var t=new PDFJS.Promise;t.resolve(this.pdfInfo.encrypted);return t},getData:function(){var t=new PDFJS.Promise;this.transport.getData(t);return t},dataLoaded:function(){return this.transport.dataLoaded()},destroy:function(){this.transport.destroy()}};return t}();var kt=function(){function n(e,n){this.pageInfo=e;this.transport=n;this.stats=new Y;this.stats.enabled=!!t.PDFJS.enableStats;this.commonObjs=n.commonObjs;this.objs=new At;this.receivingOperatorList=false;this.cleanupAfterRender=false;this.pendingDestroy=false;this.renderTasks=[]}n.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,n){if(arguments.length<2)n=this.rotate;return new PDFJS.PageViewport(this.view,t,n,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var t=new PDFJS.Promise;this.annotationsPromise=t;this.transport.getAnnotations(this.pageInfo.pageIndex);return t},render:function(t){function o(e){var t=s.renderTasks.indexOf(r);if(t>=0){s.renderTasks.splice(t,1)}if(s.cleanupAfterRender){s.pendingDestroy=true}s._tryDestroy();if(e){i.reject(e)}else{i.resolve()}n.timeEnd("Rendering");n.timeEnd("Overall")}var n=this.stats;n.time("Overall");this.pendingDestroy=false;if(!this.displayReadyPromise){this.receivingOperatorList=true;this.displayReadyPromise=new G;this.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.stats.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1})}var r=new Mt(o,t,this.objs,this.commonObjs,this.operatorList,this.pageNumber);this.renderTasks.push(r);var i=new Ot(r);var s=this;this.displayReadyPromise.then(function(t){if(s.pendingDestroy){o();return}n.time("Rendering");r.initalizeGraphics(t);r.operatorListChanged()},function(t){o(t)});return i},getTextContent:function(){var t=new PDFJS.Promise;this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(n){t.resolve(n)});return t},getOperationList:function(){var t=new PDFJS.Promise;var n={dependencyFontsID:null,operatorList:null};t.resolve(n);return t},destroy:function(){this.pendingDestroy=true;this._tryDestroy()},_tryDestroy:function(){if(!this.pendingDestroy||this.renderTasks.length!==0||this.receivingOperatorList){return}delete this.operatorList;delete this.displayReadyPromise;this.objs.clear();this.pendingDestroy=false},_startRenderPage:function(t){this.displayReadyPromise.resolve(t)},_renderPageChunk:function(t){_.concatenateToArray(this.operatorList.fnArray,t.fnArray);_.concatenateToArray(this.operatorList.argsArray,t.argsArray);this.operatorList.lastChunk=t.lastChunk;for(var n=0;n<this.renderTasks.length;n++){this.renderTasks[n].operatorListChanged()}if(t.lastChunk){this.receivingOperatorList=false;this._tryDestroy()}}};return n}();var Lt=function(){function n(e,n,r,i){this.pdfDataRangeTransport=r;this.workerReadyPromise=n;this.progressCallback=i;this.commonObjs=new At;this.pageCache=[];this.pagePromises=[];this.embeddedFontsUsed=false;this.passwordCallback=null;if(!t.PDFJS.disableWorker&&typeof Worker!=="undefined"){var s=PDFJS.workerSrc;if(typeof s==="undefined"){h("No PDFJS.workerSrc specified")}try{var o=new Worker(s);var u=new Z("main",o);this.messageHandler=u;u.on("test",function(r){if(r){this.worker=o;this.setupMessageHandler(u)}else{t.PDFJS.disableWorker=true;this.setupFakeWorker()}e.resolve()}.bind(this));var a=new Uint8Array(1);u.send("test",a);return}catch(f){l("The worker has been disabled.")}}t.PDFJS.disableWorker=true;this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker();e.resolve()}.bind(this))}n.prototype={destroy:function(){this.pageCache=[];this.pagePromises=[];var t=this;this.messageHandler.send("Terminate",null,function(){if(t.worker){t.worker.terminate()}})},loadFakeWorkerFiles:function(){if(!PDFJS.fakeWorkerFilesLoadedPromise){PDFJS.fakeWorkerFilesLoadedPromise=new G;_.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})}return PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){c("Setting up fake worker.");var t={postMessage:function(n){t.onmessage({data:n})},terminate:function(){}};var n=new Z("main",t);this.setupMessageHandler(n);PDFJS.WorkerMessageHandler.setup(n)},setupMessageHandler:function(t){function n(e){t.send("UpdatePassword",e)}this.messageHandler=t;var r=this.pdfDataRangeTransport;if(r){r.addRangeListener(function(e,n){t.send("OnDataRange",{begin:e,chunk:n})});r.addProgressListener(function(e){t.send("OnDataProgress",{loaded:e})});t.on("RequestDataRange",function(t){r.requestDataRange(t.begin,t.end)},this)}t.on("GetDoc",function(t){var n=t.pdfInfo;var r=new Ct(n,this);this.pdfDocument=r;this.workerReadyPromise.resolve(r)},this);t.on("NeedPassword",function(t){if(this.passwordCallback){return this.passwordCallback(n,E.NEED_PASSWORD)}this.workerReadyPromise.reject(t.exception.message,t.exception)},this);t.on("IncorrectPassword",function(t){if(this.passwordCallback){return this.passwordCallback(n,E.INCORRECT_PASSWORD)}this.workerReadyPromise.reject(t.exception.message,t.exception)},this);t.on("InvalidPDF",function(t){this.workerReadyPromise.reject(t.exception.name,t.exception)},this);t.on("MissingPDF",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this);t.on("UnknownError",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this);t.on("GetPage",function(t){var n=t.pageInfo;var r=new kt(n,this);this.pageCache[n.pageIndex]=r;var i=this.pagePromises[n.pageIndex];i.resolve(r)},this);t.on("GetAnnotations",function(t){var n=t.annotations;var r=this.pageCache[t.pageIndex].annotationsPromise;r.resolve(n)},this);t.on("StartRenderPage",function(t){var n=this.pageCache[t.pageIndex];n.stats.timeEnd("Page Request");n._startRenderPage(t.transparency)},this);t.on("RenderPageChunk",function(t){var n=this.pageCache[t.pageIndex];n._renderPageChunk(t.operatorList)},this);t.on("commonobj",function(t){var n=t[0];var r=t[1];if(this.commonObjs.hasData(n))return;switch(r){case"Font":var i=t[2];var s;if("error"in i){var o=i.error;c("Error during font loading: "+o);this.commonObjs.resolve(n,o);break}else{s=new Ut(i)}Rt.bind([s],function(t){this.commonObjs.resolve(n,s)}.bind(this));break;case"FontPath":this.commonObjs.resolve(n,t[2]);break;default:o("Got unknown common object type "+r)}},this);t.on("obj",function(t){var n=t[0];var r=t[1];var i=t[2];var s=this.pageCache[r];if(s.objs.hasData(n))return;switch(i){case"JpegStream":var o=t[3];et(n,o,s.objs);break;case"Image":var o=t[3];s.objs.resolve(n,o);var u=8e6;if("data"in o&&o.data.length>u){s.cleanupAfterRender=true}break;default:h("Got unknown object type "+i)}},this);t.on("DocProgress",function(t){if(this.progressCallback){this.progressCallback({loaded:t.loaded,total:t.total})}},this);t.on("DocError",function(t){this.workerReadyPromise.reject(t)},this);t.on("PageError",function(t){var n=this.pageCache[t.pageNum-1];if(n.displayReadyPromise)n.displayReadyPromise.reject(t.error);else h(t.error)},this);t.on("JpegDecode",function(e,t){var n=e[0];var r=e[1];if(r!=3&&r!=1)h("Only 3 component or 1 component can be returned");var i=new Image;i.onload=function(){var n=i.width;var s=i.height;var o=n*s;var u=o*4;var a=new Uint8Array(o*r);var f=Ht(n,s);var l=f.getContext("2d");l.drawImage(i,0,0);var c=l.getImageData(0,0,n,s).data;if(r==3){for(var h=0,p=0;h<u;h+=4,p+=3){a[p]=c[h];a[p+1]=c[h+1];a[p+2]=c[h+2]}}else if(r==1){for(var h=0,p=0;h<u;h+=4,p++){a[p]=c[h]}}t.resolve({data:a,width:n,height:s})}.bind(this);var s="data:image/jpeg;base64,"+window.btoa(n);i.src=s})},fetchDocument:function(t){t.disableAutoFetch=PDFJS.disableAutoFetch;t.chunkedViewerLoading=!!this.pdfDataRangeTransport;this.messageHandler.send("GetDocRequest",{source:t,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,disableFontFace:PDFJS.disableFontFace})},getData:function(t){this.messageHandler.send("GetData",null,function(e){t.resolve(e)})},dataLoaded:function(){var t=new PDFJS.Promise;this.messageHandler.send("DataLoaded",null,function(e){t.resolve(e)});return t},getPage:function(t,n){var r=t-1;if(r in this.pagePromises)return this.pagePromises[r];var n=new PDFJS.Promise("Page "+t);this.pagePromises[r]=n;this.messageHandler.send("GetPageRequest",{pageIndex:r});return n},getAnnotations:function(t){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:t})},getDestinations:function(){var t=new PDFJS.Promise;this.messageHandler.send("GetDestinations",null,function(n){t.resolve(n)});return t}};return n}();var At=function(){function t(){this.objs={}}t.prototype={ensureObj:function(t){if(this.objs[t])return this.objs[t];var n={promise:new G(t),data:null,resolved:false};this.objs[t]=n;return n},get:function(t,n){if(n){this.ensureObj(t).promise.then(n);return null}var r=this.objs[t];if(!r||!r.resolved)h("Requesting object that isn't resolved yet "+t);return r.data},resolve:function(t,n){var r=this.ensureObj(t);r.resolved=true;r.data=n;r.promise.resolve(n)},isResolved:function(t){var n=this.objs;if(!n[t]){return false}else{return n[t].resolved}},hasData:function(t){return this.isResolved(t)},getData:function(t){var n=this.objs;if(!n[t]||!n[t].resolved){return null}else{return n[t].data}},clear:function(){this.objs={}}};return t}();var Ot=function(){function t(e){this.internalRenderTask=e;G.call(this)}t.prototype=Object.create(G.prototype);t.prototype.cancel=function(){this.internalRenderTask.cancel()};return t}();var Mt=function(){function n(e,t,n,r,i,s){this.callback=e;this.params=t;this.objs=n;this.commonObjs=r;this.operatorListIdx=null;this.operatorList=i;this.pageNumber=s;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this.cancelled=false}n.prototype={initalizeGraphics:function(n){if(this.cancelled){return}if(PDFJS.pdfBug&&"StepperManager"in t&&t.StepperManager.enabled){this.stepper=t.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var r=this.params;this.gfx=new qt(r.canvasContext,this.commonObjs,this.objs,r.textLayer,r.imageLayer);this.gfx.beginDrawing(r.viewport,n);this.operatorListIdx=0;this.graphicsReady=true;if(this.graphicsReadyCallback){this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this.callback("cancelled")},operatorListChanged:function(){if(!this.graphicsReady){if(!this.graphicsReadyCallback){this.graphicsReadyCallback=this._continue.bind(this)}return}if(this.stepper){this.stepper.updateOperatorList(this.operatorList)}if(this.running){return}this._continue()},_continue:function(){this.running=true;if(this.cancelled){return}if(this.params.continueCallback){this.params.continueCallback(this._next.bind(this))}else{this._next()}},_next:function(){if(this.cancelled){return}this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper);if(this.operatorListIdx===this.operatorList.fnArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this.callback()}}}};return n}();var _t=PDFJS.Metadata=function(){function t(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){var n=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,r){return String.fromCharCode(t*64+n*8+r*1)});var r="";for(var i=0;i<n.length;i+=2){var s=n.charCodeAt(i)*256+n.charCodeAt(i+1);r+=s>=32&&s<127&&s!=60&&s!=62&&s!=38&&false?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";"}return">"+r})}function n(e){if(typeof e==="string"){e=t(e);var n=new DOMParser;e=n.parseFromString(e,"application/xml")}else if(!(e instanceof Document)){h("Metadata: Invalid metadata object")}this.metaDocument=e;this.metadata={};this.parse()}n.prototype={parse:function(){var t=this.metaDocument;var n=t.documentElement;if(n.nodeName.toLowerCase()!=="rdf:rdf"){n=n.firstChild;while(n&&n.nodeName.toLowerCase()!=="rdf:rdf")n=n.nextSibling}var r=n?n.nodeName.toLowerCase():null;if(!n||r!=="rdf:rdf"||!n.hasChildNodes())return;var i=n.childNodes,s,o,u,a,f,l,c;for(a=0,l=i.length;a<l;a++){s=i[a];if(s.nodeName.toLowerCase()!=="rdf:description")continue;for(f=0,c=s.childNodes.length;f<c;f++){if(s.childNodes[f].nodeName.toLowerCase()!=="#text"){o=s.childNodes[f];u=o.nodeName.toLowerCase();this.metadata[u]=o.textContent.trim()}}}},get:function(t){return this.metadata[t]||null},has:function(t){return typeof this.metadata[t]!=="undefined"}};return n}();var Dt=16;var Pt=true;var jt=function(){var t={};return{getCanvas:function(n,r,i,s){var o;if(n in t){o=t[n];o.canvas.width=r;o.canvas.height=i;o.context.setTransform(1,0,0,1,0,0)}else{var u=Ht(r,i);var a=u.getContext("2d");if(s){Bt(a)}t[n]=o={canvas:u,context:a}}return o},clear:function(){t={}}}}();var It=function(){function t(e){this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=M;this.fontMatrix=u;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=a.FILL;this.textRise=0;this.fillColorSpace=tt.singletons.gray;this.fillColorSpaceObj=null;this.strokeColorSpace=tt.singletons.gray;this.strokeColorSpaceObj=null;this.fillColorObj=null;this.strokeColorObj=null;this.fillColor="#000000";this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.paintFormXObjectDepth=0;this.old=e}t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,n){this.x=t;this.y=n}};return t}();var qt=function(){function n(e,t,n,r,i){this.ctx=e;this.current=new It;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=n;this.textLayer=r;this.imageLayer=i;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;if(e){Bt(e)}}function r(e,t){if(typeof ImageData!=="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var n=e.createImageData(t.width,t.height);var r=t.data;var i=n.data;if("set"in i)i.set(r);else{for(var s=0,o=i.length;s<o;s++)i[s]=r[s]}e.putImageData(n,0,0)}function i(e,t){var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var r=0,i=n.length;r<i;r++){var s=n[r];if(s in e){t[s]=e[s]}}if("setLineDash"in e){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}else if("mozDash"in e){t.mozDash=e.mozDash;t.mozDashOffset=e.mozDashOffset}}var t=15;var s=["butt","round","square"];var o=["miter","round","bevel"];var f={};var d={};n.prototype={slowCommands:{stroke:true,closeStroke:true,fill:true,eoFill:true,fillStroke:true,eoFillStroke:true,closeFillStroke:true,closeEOFillStroke:true,showText:true,showSpacedText:true,setStrokeColorSpace:true,setFillColorSpace:true,setStrokeColor:true,setStrokeColorN:true,setFillColor:true,setFillColorN:true,setStrokeGray:true,setFillGray:true,setStrokeRGBColor:true,setFillRGBColor:true,setStrokeCMYKColor:true,setFillCMYKColor:true,paintJpegXObject:true,paintImageXObject:true,paintInlineImageXObject:true,paintInlineImageXObjectGroup:true,paintImageMaskXObject:true,paintImageMaskXObjectGroup:true,shadingFill:true},beginDrawing:function(t,n){var r=this.ctx.canvas.width;var i=this.ctx.canvas.height;if(n){this.ctx.clearRect(0,0,r,i)}else{this.ctx.mozOpaque=true;this.ctx.save();this.ctx.fillStyle="rgb(255, 255, 255)";this.ctx.fillRect(0,0,r,i);this.ctx.restore()}var s=t.transform;this.baseTransform=s.slice();this.ctx.save();this.ctx.transform.apply(this.ctx,s);if(this.textLayer){this.textLayer.beginLayout()}if(this.imageLayer){this.imageLayer.beginLayout()}},executeOperatorList:function(n,r,i,s){var o=n.argsArray;var u=n.fnArray;var a=r||0;var f=o.length;if(f==a){return a}var l;var c=Date.now()+t;var h=this.commonObjs;var p=this.objs;var d;var v=this.slowCommands;while(true){if(s&&a===s.nextBreakPoint){s.breakIt(a,i);return a}d=u[a];if(d!=="dependency"){this[d].apply(this,o[a])}else{var m=o[a];for(var g=0,y=m.length;g<y;g++){var b=m[g];var w=b.substring(0,2)=="g_";if(!w&&!p.isResolved(b)){p.get(b,i);return a}if(w&&!h.isResolved(b)){h.get(b,i);return a}}}a++;if(a==f){return a}if(i&&v[d]&&Date.now()>c){setTimeout(i,0);return a}}},endDrawing:function(){this.ctx.restore();jt.clear();if(this.textLayer){this.textLayer.endLayout()}if(this.imageLayer){this.imageLayer.endLayout()}},setLineWidth:function(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=s[t]},setLineJoin:function(t){this.ctx.lineJoin=o[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,n){var r=this.ctx;if("setLineDash"in r){r.setLineDash(t);r.lineDashOffset=n}else{r.mozDash=t;r.mozDashOffset=n}},setRenderingIntent:function(t){},setFlatness:function(t){},setGState:function(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];var s=i[0];var o=i[1];switch(s){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1];this.ctx.globalAlpha=i[1];break;case"BM":if(o&&o.name&&o.name!=="Normal"){var u=o.name.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=u;if(this.ctx.globalCompositeOperation!==u){c('globalCompositeOperation "'+u+'" is not supported')}}else{this.ctx.globalCompositeOperation="source-over"}break}}},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone()},restore:function(){var t=this.stateStack.pop();if(t){this.current=t;this.ctx.restore()}},transform:function(t,n,r,i,s,o){this.ctx.transform(t,n,r,i,s,o)},moveTo:function(t,n){this.ctx.moveTo(t,n);this.current.setCurrentPoint(t,n)},lineTo:function(t,n){this.ctx.lineTo(t,n);this.current.setCurrentPoint(t,n)},curveTo:function(t,n,r,i,s,o){this.ctx.bezierCurveTo(t,n,r,i,s,o);this.current.setCurrentPoint(s,o)},curveTo2:function(t,n,r,i){var s=this.current;this.ctx.bezierCurveTo(s.x,s.y,t,n,r,i);s.setCurrentPoint(r,i)},curveTo3:function(t,n,r,i){this.curveTo(t,n,r,i,r,i);this.current.setCurrentPoint(r,i)},closePath:function(){this.ctx.closePath()},rectangle:function(t,n,r,i){this.ctx.rect(t,n,r,i)},stroke:function(t){t=typeof t!=="undefined"?t:true;var n=this.ctx;var r=this.current.strokeColor;if(this.current.lineWidth===0)n.lineWidth=this.getSinglePixelWidth();n.globalAlpha=this.current.strokeAlpha;if(r&&r.hasOwnProperty("type")&&r.type==="Pattern"){n.save();n.strokeStyle=r.getPattern(n,this);n.stroke();n.restore()}else{n.stroke()}if(t)this.consumePath();n.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(t){t=typeof t!=="undefined"?t:true;var n=this.ctx;var r=this.current.fillColor;var i=false;if(r&&r.hasOwnProperty("type")&&r.type==="Pattern"){n.save();n.fillStyle=r.getPattern(n,this);i=true}if(this.pendingEOFill){if("mozFillRule"in this.ctx){this.ctx.mozFillRule="evenodd";this.ctx.fill();this.ctx.mozFillRule="nonzero"}else{try{this.ctx.fill("evenodd")}catch(s){this.ctx.fill()}}this.pendingEOFill=false}else{this.ctx.fill()}if(i){n.restore()}if(t){this.consumePath()}},eoFill:function(){this.pendingEOFill=true;this.fill()},fillStroke:function(){this.fill(false);this.stroke(false);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=true;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=true;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=f},eoClip:function(){this.pendingClip=d},beginText:function(){this.current.textMatrix=M;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this)){this.ctx.beginPath();return}var t=this.pendingTextPaths;var n=this.ctx;n.save();n.beginPath();for(var r=0;r<t.length;r++){var i=t[r];n.setTransform.apply(n,i.transform);n.translate(i.x,i.y);i.addToPath(n,i.fontSize)}n.restore();n.clip();n.beginPath();delete this.pendingTextPaths},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,n){var r=this.commonObjs.get(t);var i=this.current;if(!r)h("Can't find font for "+t);i.fontMatrix=r.fontMatrix?r.fontMatrix:u;if(i.fontMatrix[0]===0||i.fontMatrix[3]===0){c("Invalid font matrix for font "+t)}if(n<0){n=-n;i.fontDirection=-1}else{i.fontDirection=1}this.current.font=r;this.current.fontSize=n;if(r.coded)return;var s=r.loadedName||"sans-serif";var o=r.black?r.bold?"bolder":"bold":r.bold?"bold":"normal";var a=r.italic?"italic":"normal";var f='"'+s+'", '+r.fallbackName;var l=n>=Dt?n:Dt;this.current.fontSizeScale=l!=Dt?1:n/Dt;var p=a+" "+o+" "+l+"px "+f;this.ctx.font=p},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,n){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=n},setLeadingMoveText:function(t,n){this.setLeading(-n);this.moveText(t,n)},setTextMatrix:function(t,n,r,i,s,o){this.current.textMatrix=[t,n,r,i,s,o];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var t=this.ctx;var n=this.current;t.transform.apply(t,n.textMatrix);t.translate(n.x,n.y+n.textRise);if(n.fontDirection>0){t.scale(n.textHScale,-1)}else{t.scale(-n.textHScale,1)}},createTextGeometry:function(){var t={};var n=this.ctx;var r=this.current.font;var i=n.mozCurrentTransform;var s=i[0],o=i[1],u=i[2];var a=i[3],f=i[4],l=i[5];var c=s>=0?Math.sqrt(s*s+o*o):-Math.sqrt(s*s+o*o);var h=a>=0?Math.sqrt(u*u+a*a):-Math.sqrt(u*u+a*a);var p=Math.atan2(o,s);var d=f;var v=l;t.x=d;t.y=v;t.hScale=c;t.vScale=h;t.angle=p;t.spaceWidth=r.spaceWidth;t.fontName=r.loadedName;t.fontFamily=r.fallbackName;t.fontSize=this.current.fontSize;return t},paintChar:function(e,t,n){var r=this.ctx;var i=this.current;var s=i.font;var o=i.fontSize/i.fontSizeScale;var u=i.textRenderingMode;var f=u&a.FILL_STROKE_MASK;var l=!!(u&a.ADD_TO_PATH_FLAG);var c;if(s.disableFontFace||l){c=s.getPathGenerator(this.commonObjs,e)}if(s.disableFontFace){r.save();r.translate(t,n);r.beginPath();c(r,o);if(f===a.FILL||f===a.FILL_STROKE){r.fill()}if(f===a.STROKE||f===a.FILL_STROKE){r.stroke()}r.restore()}else{if(f===a.FILL||f===a.FILL_STROKE){r.fillText(e,t,n)}if(f===a.STROKE||f===a.FILL_STROKE){r.strokeText(e,t,n)}}if(l){var h=this.pendingTextPaths||(this.pendingTextPaths=[]);h.push({transform:r.mozCurrentTransform,x:t,y:n,fontSize:o,addToPath:c})}},showText:function(t,n){var r=this.ctx;var i=this.current;var s=i.font;var o=i.fontSize;var a=i.fontSizeScale;var f=i.charSpacing;var l=i.wordSpacing;var c=i.textHScale*i.fontDirection;var h=i.fontMatrix||u;var p=t.length;var d=this.textLayer;var v;var m=d&&!n?true:false;var g=0;var y=s.vertical;var b=s.defaultVMetrics;if(s.coded){r.save();r.transform.apply(r,i.textMatrix);r.translate(i.x,i.y);r.scale(c,1);if(m){this.save();r.scale(1,-1);v=this.createTextGeometry();this.restore()}for(var w=0;w<p;++w){var E=t[w];if(E===null){this.ctx.translate(l,0);i.x+=l*c;continue}this.processingType3=E;this.save();r.scale(o,o);r.transform.apply(r,h);this.executeOperatorList(E.operatorList);this.restore();var S=_.applyTransform([E.width,0],h);var x=(S[0]*o+f)*i.fontDirection;r.translate(x,0);i.x+=x*c;g+=x}r.restore();this.processingType3=null}else{r.save();this.applyTextTransforms();var T=i.lineWidth;var N=i.textMatrix[0],C=i.textMatrix[1];var k=Math.sqrt(N*N+C*C);if(k===0||T===0)T=this.getSinglePixelWidth();else T/=k;if(m)v=this.createTextGeometry();if(a!=1){r.scale(a,a);T/=a}r.lineWidth=T;var L=0;for(var w=0;w<p;++w){var E=t[w];if(E===null){L+=i.fontDirection*l;continue}var A=false;var O=E.fontChar;var M=E.vmetric||b;if(y){var D=E.vmetric?M[1]:E.width*.5;D=-D*o*i.fontMatrix[0];var P=M[2]*o*i.fontMatrix[0]}var x=M?-M[0]:E.width;var H=x*o*i.fontMatrix[0]+f*i.fontDirection;var B=E.accent;var j,F,I,q;if(!E.disabled){if(y){j=D/a;F=(L+P)/a}else{j=L/a;F=0}if(s.remeasure&&x>0){var R=r.measureText(O).width*1e3/i.fontSize*i.fontSizeScale;var U=x/R;A=true;r.save();r.scale(U,1);j/=U;if(B){I/=U}}this.paintChar(O,j,F);if(B){I=j+B.offset.x/a;q=F-B.offset.y/a;this.paintChar(B.fontChar,I,q)}}L+=H;g+=H;if(A){r.restore()}}if(y){i.y-=L*c}else{i.x+=L*c}r.restore()}if(m){v.canvasWidth=g;if(y){var z=Math.PI/2;v.angle+=z}this.textLayer.appendText(v)}return g},showSpacedText:function(t){var n=this.ctx;var r=this.current;var i=r.font;var s=r.fontSize;var o=r.textHScale*.001*r.fontDirection;var u=t.length;var a=this.textLayer;var f;var l=0;var c=a?true:false;var h=i.vertical;var p=0;if(c){n.save();this.applyTextTransforms();f=this.createTextGeometry();n.restore()}for(var d=0;d<u;++d){var v=t[d];if(q(v)){var m=-v*s*o;if(h){r.y+=m}else{r.x+=m}if(c)p+=m}else{var g=this.showText(v,true);if(c){l+=p+g;p=0}}}if(c){f.canvasWidth=l;if(h){var y=Math.PI/2;f.angle+=y}this.textLayer.appendText(f)}},nextLineShowText:function(t){this.nextLine();this.showText(t)},nextLineSetSpacingShowText:function(t,n,r){this.setWordSpacing(t);this.setCharSpacing(n);this.nextLineShowText(r)},setCharWidth:function(t,n){},setCharWidthAndBounds:function(t,n,r,i,s,o){this.rectangle(r,i,s-r,o-i);this.clip();this.endPath()},setStrokeColorSpace:function(t){this.current.strokeColorSpace=tt.fromIR(t)},setFillColorSpace:function(t){this.current.fillColorSpace=tt.fromIR(t)},setStrokeColor:function(){var t=this.current.strokeColorSpace;var n=t.getRgb(arguments,0);var r=_.makeCssRgb(n);this.ctx.strokeStyle=r;this.current.strokeColor=r},getColorN_Pattern:function(t,n){if(t[0]=="TilingPattern"){var r=t[1];var i=n.base;var s;if(i){var o=i.numComps;s=i.getRgb(r,0)}var u=new ht(t,s,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else if(t[0]=="RadialAxial"||t[0]=="Dummy"){var u=lt.shadingFromIR(t)}else{h("Unkown IR type "+t[0])}return u},setStrokeColorN:function(){var t=this.current.strokeColorSpace;if(t.name=="Pattern"){this.current.strokeColor=this.getColorN_Pattern(arguments,t)}else{this.setStrokeColor.apply(this,arguments)}},setFillColor:function(){var t=this.current.fillColorSpace;var n=t.getRgb(arguments,0);var r=_.makeCssRgb(n);this.ctx.fillStyle=r;this.current.fillColor=r},setFillColorN:function(){var t=this.current.fillColorSpace;if(t.name=="Pattern"){this.current.fillColor=this.getColorN_Pattern(arguments,t)}else{this.setFillColor.apply(this,arguments)}},setStrokeGray:function(t){this.current.strokeColorSpace=tt.singletons.gray;var n=this.current.strokeColorSpace.getRgb(arguments,0);var r=_.makeCssRgb(n);this.ctx.strokeStyle=r;this.current.strokeColor=r},setFillGray:function(t){this.current.fillColorSpace=tt.singletons.gray;var n=this.current.fillColorSpace.getRgb(arguments,0);var r=_.makeCssRgb(n);this.ctx.fillStyle=r;this.current.fillColor=r},setStrokeRGBColor:function(t,n,r){this.current.strokeColorSpace=tt.singletons.rgb;var i=this.current.strokeColorSpace.getRgb(arguments,0);var s=_.makeCssRgb(i);this.ctx.strokeStyle=s;this.current.strokeColor=s},setFillRGBColor:function(t,n,r){this.current.fillColorSpace=tt.singletons.rgb;var i=this.current.fillColorSpace.getRgb(arguments,0);var s=_.makeCssRgb(i);this.ctx.fillStyle=s;this.current.fillColor=s},setStrokeCMYKColor:function(t,n,r,i){this.current.strokeColorSpace=tt.singletons.cmyk;var s=_.makeCssCmyk(arguments);this.ctx.strokeStyle=s;this.current.strokeColor=s},setFillCMYKColor:function(t,n,r,i){this.current.fillColorSpace=tt.singletons.cmyk;var s=_.makeCssCmyk(arguments);this.ctx.fillStyle=s;this.current.fillColor=s},shadingFill:function(t){var n=this.ctx;this.save();var r=lt.shadingFromIR(t);n.fillStyle=r.getPattern(n,this);var i=n.mozCurrentTransformInverse;if(i){var s=n.canvas;var o=s.width;var u=s.height;var a=_.applyTransform([0,0],i);var f=_.applyTransform([0,u],i);var l=_.applyTransform([o,0],i);var c=_.applyTransform([o,u],i);var h=Math.min(a[0],f[0],l[0],c[0]);var p=Math.min(a[1],f[1],l[1],c[1]);var d=Math.max(a[0],f[0],l[0],c[0]);var v=Math.max(a[1],f[1],l[1],c[1]);this.ctx.fillRect(h,p,d-h,v-p)}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10)}this.restore()},beginInlineImage:function(){h("Should not call beginInlineImage")},beginImageData:function(){h("Should not call beginImageData")},paintFormXObjectBegin:function(t,n){this.save();this.current.paintFormXObjectDepth++;this.baseTransformStack.push(this.baseTransform);if(t&&V(t)&&6==t.length)this.transform.apply(this,t);this.baseTransform=this.ctx.mozCurrentTransform;if(n&&V(n)&&4==n.length){var r=n[2]-n[0];var i=n[3]-n[1];this.rectangle(n[0],n[1],r,i);this.clip();this.endPath()}},paintFormXObjectEnd:function(){var t=this.current.paintFormXObjectDepth;do{this.restore()}while(this.current.paintFormXObjectDepth>=t);this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(t){this.save();var n=this.ctx;if(!t.isolated){l("TODO: Support non-isolated groups.")}if(t.knockout){p("Support knockout groups.")}var r=n.mozCurrentTransform;if(t.matrix){n.transform.apply(n,t.matrix)}v(t.bbox,"Bounding box is required.");var s=_.getAxialAlignedBoundingBox(t.bbox,n.mozCurrentTransform);var o=Math.max(Math.ceil(s[2]-s[0]),1);var u=Math.max(Math.ceil(s[3]-s[1]),1);var a=jt.getCanvas("groupAt"+this.groupLevel,o,u,true);var f=a.context;var c=s[0];var h=s[1];f.translate(-c,-h);f.transform.apply(f,r);n.setTransform(1,0,0,1,0,0);n.translate(c,h);i(n,f);this.ctx=f;this.setGState([["SMask","None"],["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(n);this.groupLevel++},endGroup:function(t){this.groupLevel--;var n=this.ctx;this.ctx=this.groupStack.pop();if("imageSmoothingEnabled"in this.ctx){this.ctx.imageSmoothingEnabled=false}else{this.ctx.mozImageSmoothingEnabled=false}this.ctx.drawImage(n.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=new It},endAnnotations:function(){this.restore()},beginAnnotation:function(t,n,r){this.save();if(t&&V(t)&&4==t.length){var i=t[2]-t[0];var s=t[3]-t[1];this.rectangle(t[0],t[1],i,s);this.clip();this.endPath()}this.transform.apply(this,n);this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,n,r){var i=this.objs.get(t);if(!i){h("Dependent image isn't ready yet")}this.save();var s=this.ctx;s.scale(1/n,-1/r);s.drawImage(i,0,0,i.width,i.height,0,-r,n,r);if(this.imageLayer){var o=s.mozCurrentTransformInverse;var u=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:u[0],top:u[1],width:n/o[0],height:r/o[3]})}this.restore()},paintImageMaskXObject:function(t){var n=this.ctx;var i=t.width,s=t.height;var o=this.processingType3;if(Pt&&o&&!("compiled"in o)){var u=1e3;if(i<=u&&s<=u){o.compiled=Ft({data:t.data,width:i,height:s})}else{o.compiled=null}}if(o&&o.compiled){o.compiled(n);return}var a=jt.getCanvas("maskCanvas",i,s);var f=a.context;f.save();r(f,t);f.globalCompositeOperation="source-in";var l=this.current.fillColor;f.fillStyle=l&&l.hasOwnProperty("type")&&l.type==="Pattern"?l.getPattern(f,this):l;f.fillRect(0,0,i,s);f.restore();this.paintInlineImageXObject(a.canvas)},paintImageMaskXObjectGroup:function(t){var n=this.ctx;for(var i=0,s=t.length;i<s;i++){var o=t[i];var u=o.width,a=o.height;var f=jt.getCanvas("maskCanvas",u,a);var l=f.context;l.save();r(l,o);l.globalCompositeOperation="source-in";var c=this.current.fillColor;l.fillStyle=c&&c.hasOwnProperty("type")&&c.type==="Pattern"?c.getPattern(l,this):c;l.fillRect(0,0,u,a);l.restore();n.save();n.transform.apply(n,o.transform);n.scale(1,-1);n.drawImage(f.canvas,0,0,u,a,0,-1,1,1);n.restore()}},paintImageXObject:function(t){var n=this.objs.get(t);if(!n)h("Dependent image isn't ready yet");this.paintInlineImageXObject(n)},paintInlineImageXObject:function(t){var n=t.width;var i=t.height;var s=this.ctx;this.save();s.scale(1/n,-1/i);var o=s.mozCurrentTransformInverse;var u=o[0],a=o[1];var f=Math.max(Math.sqrt(u*u+a*a),1);var l=o[2],c=o[3];var h=Math.max(Math.sqrt(l*l+c*c),1);var p;if(t instanceof HTMLElement||!t.data){p=t}else{var d=jt.getCanvas("inlineImage",n,i);var v=d.context;r(v,t);p=d.canvas}var m=n,g=i;var y="prescale1";while(f>2&&m>1||h>2&&g>1){var b=m,w=g;if(f>2&&m>1){b=Math.ceil(m/2);f/=m/b}if(h>2&&g>1){w=Math.ceil(g/2);h/=g/w}var d=jt.getCanvas(y,b,w);v=d.context;v.clearRect(0,0,b,w);v.drawImage(p,0,0,m,g,0,0,b,w);p=d.canvas;m=b;g=w;y=y==="prescale1"?"prescale2":"prescale1"}s.drawImage(p,0,0,m,g,0,-i,n,i);if(this.imageLayer){var E=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:t,left:E[0],top:E[1],width:n/o[0],height:i/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,n){var i=this.ctx;var s=t.width;var o=t.height;var u=jt.getCanvas("inlineImage",s,o);var a=u.context;r(a,t);for(var f=0,l=n.length;f<l;f++){var c=n[f];i.save();i.transform.apply(i,c.transform);i.scale(1,-1);i.drawImage(u.canvas,c.x,c.y,c.w,c.h,0,-1,1,1);if(this.imageLayer){var h=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:h[0],top:h[1],width:s,height:o})}i.restore()}},markPoint:function(t){},markPointProps:function(t,n){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,n){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==d){if("mozFillRule"in this.ctx){this.ctx.mozFillRule="evenodd";this.ctx.clip();this.ctx.mozFillRule="nonzero"}else{try{this.ctx.clip("evenodd")}catch(t){this.ctx.clip()}}}else{this.ctx.clip()}this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(t){var n=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3]))},getCanvasPosition:function(t,n){var r=this.ctx.mozCurrentTransform;return[r[0]*t+r[2]*n+r[4],r[1]*t+r[3]*n+r[5]]}};return n}();PDFJS.disableFontFace=false;var Rt={insertRule:function(t){var n=document.getElementById("PDFJS_FONT_STYLE_TAG");if(!n){n=document.createElement("style");n.id="PDFJS_FONT_STYLE_TAG";document.documentElement.getElementsByTagName("head")[0].appendChild(n)}var r=n.sheet;r.insertRule(t,r.cssRules.length)},get loadTestFont(){return w(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ"+"AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA"+"AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm"+"FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA"+"AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A"+"ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA"+"MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA"+"AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA"+"AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ"+"AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA"+"AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA"+"EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA"+"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA"+"AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc"+"A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF"+"hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA"+"AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg"+"ABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(n)return false;var t=window.navigator.userAgent;var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(t);if(r&&r[1]>=14)return true;return false}(),bind:function(t,r){v(!n,"bind() shall be called from main thread");var i=[],s=[];for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a.attached||a.loading===false){continue}a.attached=true;var f=a.bindDOM();if(f){i.push(f);s.push(a)}}var l=Rt.queueLoadingCallback(r);if(i.length>0&&!this.isSyncFontLoadingSupported){Rt.prepareFontLoadEvent(i,s,l)}else{l.complete()}},queueLoadingCallback:function(t){function n(){v(!s.end,"completeRequest() cannot be called twice");s.end=Date.now();while(r.requests.length>0&&r.requests[0].end){var e=r.requests.shift();setTimeout(e.callback,0)}}var r=Rt.loadingContext;var i="pdfjs-font-loading-"+r.nextRequestId++;var s={id:i,complete:n,callback:t,started:Date.now()};r.requests.push(s);return s},prepareFontLoadEvent:function(t,n,r){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function s(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)}function o(e,t,n,r){var i=v.substr(0,t);var s=v.substr(t+n);return i+r+s}function p(e,t){h++;if(h>30){c("Load test font never loaded.");t();return}l.font="30px "+e;l.fillText(".",0,20);var n=l.getImageData(0,0,1,1);if(n.data[3]>0){t();return}setTimeout(p.bind(null,e,t))}var u,a;var f=document.createElement("canvas");f.width=1;f.height=1;var l=f.getContext("2d");var h=0;var d="lt"+Date.now()+this.loadTestFontId++;var v=this.loadTestFont;var m=976;v=o(v,m,d.length,d);var g=16;var y=1482184792;var b=i(v,g);for(u=0,a=d.length-3;u<a;u+=4){b=b-y+i(d,u)|0}if(u<d.length){b=b-y+i(d+"XXX",u)|0}v=o(v,g,4,s(b));var w="url(data:font/opentype;base64,"+btoa(v)+");";var E='@font-face { font-family:"'+d+'";src:'+w+"}";Rt.insertRule(E);var S=[];for(u=0,a=n.length;u<a;u++){S.push(n[u].loadedName)}S.push(d);var x=document.createElement("div");x.setAttribute("style","visibility: hidden;"+"width: 10px; height: 10px;"+"position: absolute; top: 0px; left: 0px;");for(u=0,a=S.length;u<a;++u){var T=document.createElement("span");T.textContent="Hi";T.style.fontFamily=S[u];x.appendChild(T)}document.body.appendChild(x);p(d,function(){document.body.removeChild(x);r.complete()})}};var Ut=function(){function n(e,t,n){this.compiledGlyphs={};if(arguments.length===1){var r=arguments[0];for(var i in r){this[i]=r[i]}return}}n.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace){this.disableFontFace=true;return null}var n=A(this.data);var r=this.loadedName;var i="url(data:"+this.mimetype+";base64,"+window.btoa(n)+");";var s='@font-face { font-family:"'+r+'";src:'+i+"}";Rt.insertRule(s);if(PDFJS.pdfBug&&"FontInspector"in t&&t["FontInspector"].enabled)t["FontInspector"].fontAdded(this,i);return s},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var n=e.get(this.loadedName+"_path_"+t);this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]}};return n}()}).call(typeof window==="undefined"?this:window);if(!PDFJS.workerSrc&&typeof document!=="undefined"){PDFJS.workerSrc=function(){"use strict";var e=document.body||document.getElementsByTagName("head")[0];var t=e.lastChild.src;return t&&t.replace(/\.js$/i,".worker.js")}()}
